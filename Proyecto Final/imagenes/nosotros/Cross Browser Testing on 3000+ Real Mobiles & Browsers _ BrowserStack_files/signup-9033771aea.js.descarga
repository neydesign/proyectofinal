var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"Other",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(r){for(var t,i=0;i<r.length;i++)if(t=r[i].string,this.versionSearchString=r[i].subString,-1!==t.indexOf(r[i].subString))return r[i].identity},searchVersion:function(r){var t,i=r.indexOf(this.versionSearchString);if(-1!==i)return t=r.indexOf("rv:"),"Trident"===this.versionSearchString&&-1!==t?parseFloat(r.substring(t+3)):"safari"===this.browser?parseFloat(r.split(" ").slice(-2,-1)[0].split("/")[1]):parseFloat(r.substring(i+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"MSIE",identity:"explorer"},{string:navigator.userAgent,subString:"Trident",identity:"explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"firefox"},{string:navigator.userAgent,subString:"YaBrowser",identity:"yandex"},{string:navigator.userAgent,subString:"Opera",identify:"opera"},{string:navigator.userAgent,subString:"OPR",identity:"opera"},{string:navigator.userAgent,subString:"Edge",identity:"edge"},{string:navigator.userAgent,subString:"Edg",identity:"edge"},{string:navigator.userAgent,subString:"Puffin",identity:"puffin"},{string:navigator.userAgent,subString:"Chrome",identity:"chrome"},{string:navigator.userAgent,subString:"Safari",identity:"safari"}]};BrowserDetect.init();
var PerformanceMonitoring=function(){var t=performance,e=t.timing,n="";function r(e){return t.getEntries().filter(function(t){return t.initiatorType&&t.initiatorType===e}).length}function i(e){var n,r={};return t.getEntries().forEach(function(t){t.initiatorType&&t.initiatorType===e&&(n=t.name.split(".").pop(),/^[a-zA-Z]+$/i.test(n)&&(r[n]=r[n]?r[n]+=1:1))}),r}function a(e){var n=0;return t.getEntries().forEach(function(t){t.initiatorType&&t.initiatorType===e&&(n+=t.transferSize)}),n}return{init:function(){if(!window.performance||!BrowserStackConfig)return!1;if(!EDSFrontendPerformanceThreshold)return!1;if(!isPerformanceGetEntriesByTypeAvailable())return!1;"undefined"!=typeof sessionStorage&&(n=sessionStorage.getItem("event_id")||"");var t={timeToFirstByte:e.responseStart-e.requestStart,firstContentfulPaint:function(e,t){var n=performance.getEntriesByType("paint").filter(function(t){if(t.name===e)return t});if(n[0])return Math.round(n[0][t]);return-1}("first-contentful-paint","startTime"),navigation:function(t){var e=performance.getEntriesByType("navigation");if(e&&e[0])return e[0][t];return""}("type"),domLoadTime:e.domContentLoadedEventEnd-e.navigationStart,pageLoadTime:e.loadEventEnd-e.navigationStart,assets:{count:{img:i("img"),css:r("link"),script:r("script"),cssImg:i("css")},size:{css:a("link"),script:a("script"),img:a("img")}},event_id:n};Object.keys(t).length&&(t.userAgentString=navigator.userAgent,t.browser=BrowserDetect.browser.toLowerCase(),t.browserVersion=BrowserDetect.version,t.dashboard="undefined"!=typeof getProductKey&&getProductKey()||"web",t.url=window.location.href),Object.keys(t).length&&(t.largestContentfulPaint=NewPerformanceMonitoring.getLcpData(),t.firstInputDelay=NewPerformanceMonitoring.getFidData()||0,t.cumulativeLayoutShift=NewPerformanceMonitoring.getClsData()||0,NewPerformanceMonitoring.getFcpData()&&(t.oldFirstContentfulPaint=t.firstContentfulPaint,t.firstContentfulPaint=NewPerformanceMonitoring.getFcpData()),NewPerformanceMonitoring.getTtfbData()&&(t.oldTimeToFirstByte=t.timeToFirstByte,t.timeToFirstByte=NewPerformanceMonitoring.getTtfbData()),WebEventTracker.logEvent(["amplitude"],EDS.webEvents,"FrontendPerformanceStats",t),sessionStorage.removeItem("event_id"))}}}(),NewPerformanceMonitoring=function(){var u={},c=[];return{init:function(){if(!window.PerformanceObserver)return!1;try{var t=new PerformanceObserver(function(t){for(var e=t.getEntriesByName("first-contentful-paint"),n=0;n<e.length;n++){var r=e[n];u.firstContentfulPaint=Math.round(r.startTime)}});t.observe({type:"paint",buffered:!0}),c.push(t)}catch(t){}try{var a,e=new PerformanceObserver(function(t){for(var e=t.getEntries(),n=0;n<e.length;n++){var r,i=e[n];i.startTime!==a&&(r=i.element?i.element.outerHTML.slice(0,80):"(no element)",r="New LCP: "+i.startTime+"ms, Size: "+i.size+"px^2, HTML: "+r,a=Math.round(i.startTime),u.largestContentfulPaint||(u.largestContentfulPaint={}),u.largestContentfulPaint.lastLcp=a,u.largestContentfulPaint.data||(u.largestContentfulPaint.data=[]),u.largestContentfulPaint.data.push(r))}});e.observe({type:"largest-contentful-paint",buffered:!0}),c.push(e)}catch(t){}try{var n=new PerformanceObserver(function(t){t=t.getEntries()[0],t=t.processingStart-t.startTime;u.firstInputDelay||(u.firstInputDelay=Math.round(t))});n.observe({type:"first-input",buffered:!0}),c.push(n)}catch(t){}try{var r=new PerformanceObserver(function(t){t=t.getEntriesByType("navigation");u.timeToFirstByte=Math.round(t[0].responseStart)});r.observe({type:"navigation",buffered:!0}),c.push(r)}catch(t){}try{var o=0,s=0,f=[],i=new PerformanceObserver(function(t){for(var e=t.getEntries(),n=0;n<e.length;n++){var r,i,a=e[n];a.hadRecentInput||(r=f[0],i=f[f.length-1],s&&a.startTime-i.startTime<1e3&&a.startTime-r.startTime<5e3?(s+=a.value,f.push(a)):(s=a.value,f=[a]),o<s&&(o=s,u.cumulativeLayoutShift=o.toFixed(3)))}});i.observe({type:"layout-shift",buffered:!0}),c.push(i)}catch(t){}},getLcpData:function(){return u.largestContentfulPaint},getFidData:function(){return u.firstInputDelay},getFcpData:function(){return u.firstContentfulPaint},getTtfbData:function(){return u.timeToFirstByte},getClsData:function(){return u.cumulativeLayoutShift},disconnectObservers:function(){for(var t=0;t<c.length;t++)try{c[t].disconnect()}catch(t){}}}}();function isPerformanceGetEntriesByTypeAvailable(){return"function"==typeof performance.getEntriesByType}NewPerformanceMonitoring.init(),window.addEventListener("load",function(){setTimeout(function(){PerformanceMonitoring.init(),NewPerformanceMonitoring.disconnectObservers()},1e3)},!1);
!function(t){t.browserTest=function(e,r){function s(e,r){for(var o=0;o<r.length;o+=1)e=e.replace(r[o][0],r[o][1]);return e}function o(e,r,o,a){return(r={name:s((r.exec(e)||[n,n])[1],o)})[r.name]=!0,r.version=(a.exec(e)||[i,i,i,i])[3],r.name.match(/safari/)&&400<r.version&&(r.version="2.0"),"presto"===r.name&&(r.version=9.27<t.browser.version?"futhark":"linear_b"),r.versionNumber=parseFloat(r.version,10)||0,r.versionX=r.version!==i?(r.version+"").substr(0,1):i,r.className=r.name+r.versionX,r}var n="unknown",i="X";e=(e.match(/Opera|Navigator|Minefield|KHTML|Chrome/)?s(e,[[/(Firefox|MSIE|KHTML,\slike\sGecko|Konqueror)/,""],["Chrome Safari","Chrome"],["KHTML","Konqueror"],["Minefield","Firefox"],["Navigator","Netscape"]]):e).toLowerCase(),t.browser=t.extend(r?{}:t.browser,o(e,/(camino|chrome|firefox|netscape|konqueror|lynx|msie|opera|safari)/,[],/(camino|chrome|firefox|netscape|netscape6|opera|version|konqueror|lynx|msie|safari)(\/|\s)([a-z0-9\.\+]*?)(\;|dev|rel|\s|$)/)),t.layout=o(e,/(gecko|konqueror|msie|opera|webkit)/,[["konqueror","khtml"],["msie","trident"],["opera","presto"]],/(applewebkit|rv|konqueror|msie)(\:|\/|\s)([a-z0-9\.]*?)(\;|\)|\s)/),t.os={name:(/(win|mac|linux|sunos|solaris|iphone)/.exec(navigator.platform.toLowerCase())||[n])[0].replace("sunos","solaris")},r||t("html").addClass([t.os.name,t.browser.name,t.browser.className,t.layout.name,t.layout.className].join(" "))},t.browserTest(navigator.userAgent)}(jQuery);
!function(a,r,S,d){function h(e){return e&&e.hasOwnProperty&&e instanceof S}function _(e){return p(e)&&0<e.indexOf("%")}function E(e,t){var i=parseInt(e,10)||0;return t&&_(e)&&(i*=j.getViewport()[t]/100),Math.ceil(i)}function T(e,t){return E(e,t)+"px"}var i=S(a),n=S(r),j=S.fancybox=function(){j.open.apply(this,arguments)},l=navigator.userAgent.match(/msie/),s=null,o=r.createTouch!==d,p=function(e){return e&&"string"===S.type(e)};S.extend(j,{version:"2.1.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!o,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:S.noop,beforeLoad:S.noop,afterLoad:S.noop,beforeShow:S.noop,afterShow:S.noop,beforeChange:S.noop,beforeClose:S.noop,afterClose:S.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(s,c){if(s&&(S.isPlainObject(c)||(c={}),!1!==j.close(!0)))return S.isArray(s)||(s=h(s)?S(s).get():[s]),S.each(s,function(e,t){var i,n,o,a,r,l={};"object"===S.type(t)&&(t.nodeType&&(t=S(t)),h(t)?(l={href:t.data("fancybox-href")||t.attr("href"),title:t.data("fancybox-title")||t.attr("title"),isDom:!0,element:t},S.metadata&&S.extend(!0,l,t.metadata())):l=t),i=c.href||l.href||(p(t)?t:null),n=c.title!==d?c.title:l.title||"",!(a=(o=c.content||l.content)?"html":c.type||l.type)&&l.isDom&&(a=(a=t.data("fancybox-type"))||((a=t.prop("class").match(/fancybox\.(\w+)/))?a[1]:null)),p(i)&&(a||(j.isImage(i)?a="image":j.isSWF(i)?a="swf":"#"===i.charAt(0)?a="inline":p(t)&&(a="html",o=t)),"ajax"===a&&(i=(r=i.split(/\s+/,2)).shift(),r=r.shift())),o||("inline"===a?i?o=S(p(i)?i.replace(/.*(?=#[^\s]+$)/,""):i):l.isDom&&(o=t):"html"===a?o=i:a||i||!l.isDom||(a="inline",o=t)),S.extend(l,{href:i,type:a,content:o,title:n,selector:r}),s[e]=l}),j.opts=S.extend(!0,{},j.defaults,c),c.keys!==d&&(j.opts.keys=!!c.keys&&S.extend({},j.defaults.keys,c.keys)),j.group=s,j._start(j.opts.index)},cancel:function(){var e=j.coming;e&&!1!==j.trigger("onCancel")&&(j.hideLoading(),j.ajaxLoad&&j.ajaxLoad.abort(),j.ajaxLoad=null,j.imgPreload&&(j.imgPreload.onload=j.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger("onReset").remove(),j.coming=null,j.current||j._afterZoomOut(e))},close:function(e){j.cancel(),!1!==j.trigger("beforeClose")&&(j.unbindEvents(),j.isActive&&(j.isOpen&&!0!==e?(j.isOpen=j.isOpened=!1,j.isClosing=!0,S(".fancybox-item, .fancybox-nav").remove(),j.wrap.stop(!0,!0).removeClass("fancybox-opened"),j.transitions[j.current.closeMethod]()):(S(".fancybox-wrap").stop(!0).trigger("onReset").remove(),j._afterZoomOut())))},play:function(e){function t(){clearTimeout(j.player.timer)}function i(){t(),j.current&&j.player.isActive&&(j.player.timer=setTimeout(j.next,j.current.playSpeed))}function n(){t(),S("body").unbind(".player"),j.player.isActive=!1,j.trigger("onPlayEnd")}!0===e||!j.player.isActive&&!1!==e?j.current&&(j.current.loop||j.current.index<j.group.length-1)&&(j.player.isActive=!0,S("body").bind({"afterShow.player onUpdate.player":i,"onCancel.player beforeClose.player":n,"beforeLoad.player":t}),i(),j.trigger("onPlayStart")):n()},next:function(e){var t=j.current;t&&(p(e)||(e=t.direction.next),j.jumpto(t.index+1,e,"next"))},prev:function(e){var t=j.current;t&&(p(e)||(e=t.direction.prev),j.jumpto(t.index-1,e,"prev"))},jumpto:function(e,t,i){var n=j.current;n&&(e=E(e),j.direction=t||n.direction[e>=n.index?"next":"prev"],j.router=i||"jumpto",n.loop&&(e<0&&(e=n.group.length+e%n.group.length),e%=n.group.length),n.group[e]!==d&&(j.cancel(),j._start(e)))},reposition:function(e,t){var i=j.current,n=i?i.wrap:null;n&&(t=j._getPosition(t),e&&"scroll"===e.type?(delete t.position,n.stop(!0,!0).animate(t,200)):(n.css(t),i.pos=S.extend({},i.dim,t)))},update:function(t){var i=t&&t.type,n=!i||"orientationchange"===i;n&&(clearTimeout(s),s=null),j.isOpen&&!s&&(s=setTimeout(function(){var e=j.current;e&&!j.isClosing&&(j.wrap.removeClass("fancybox-tmp"),(n||"load"===i||"resize"===i&&e.autoResize)&&j._setDimension(),"scroll"===i&&e.canShrink||j.reposition(t),j.trigger("onUpdate"),s=null)},n&&!o?0:300))},toggle:function(e){j.isOpen&&(j.current.fitToView="boolean"===S.type(e)?e:!j.current.fitToView,o&&(j.wrap.removeAttr("style").addClass("fancybox-tmp"),j.trigger("onUpdate")),j.update())},hideLoading:function(){n.unbind(".loading"),S("#fancybox-loading").remove()},showLoading:function(){var e,t;j.hideLoading(),e=S('<div id="fancybox-loading"><div></div></div>').click(j.cancel).appendTo("body"),n.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),j.cancel())}),j.defaults.fixed||(t=j.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var e=j.current&&j.current.locked||!1,t={x:i.scrollLeft(),y:i.scrollTop()};return e?(t.w=e[0].clientWidth,t.h=e[0].clientHeight):(t.w=o&&a.innerWidth?a.innerWidth:i.width(),t.h=o&&a.innerHeight?a.innerHeight:i.height()),t},unbindEvents:function(){j.wrap&&h(j.wrap)&&j.wrap.unbind(".fb"),n.unbind(".fb"),i.unbind(".fb")},bindEvents:function(){var t,r=j.current;r&&(i.bind("orientationchange.fb"+(o?"":" resize.fb")+(r.autoCenter&&!r.locked?" scroll.fb":""),j.update),(t=r.keys)&&n.bind("keydown.fb",function(i){var n=i.which||i.keyCode,e=i.target||i.srcElement;if(27===n&&j.coming)return!1;i.ctrlKey||i.altKey||i.shiftKey||i.metaKey||e&&(e.type||S(e).is("[contenteditable]"))||S.each(t,function(e,t){return 1<r.group.length&&t[n]!==d?(j[e](t[n]),i.preventDefault(),!1):-1<S.inArray(n,t)?(j[e](),i.preventDefault(),!1):void 0})}),S.fn.mousewheel&&r.mouseWheel&&j.wrap.bind("mousewheel.fb",function(e,t,i,n){for(var o=S(e.target||null),a=!1;o.length&&!a&&!o.is(".fancybox-skin")&&!o.is(".fancybox-wrap");)a=o[0]&&!(o[0].style.overflow&&"hidden"===o[0].style.overflow)&&(o[0].clientWidth&&o[0].scrollWidth>o[0].clientWidth||o[0].clientHeight&&o[0].scrollHeight>o[0].clientHeight),o=S(o).parent();0!==t&&!a&&1<j.group.length&&!r.canShrink&&(0<n||0<i?j.prev(0<n?"down":"left"):(n<0||i<0)&&j.next(n<0?"up":"right"),e.preventDefault())}))},trigger:function(i,e){var t,n=e||j.coming||j.current;if(n){if(!1===(t=S.isFunction(n[i])?n[i].apply(n,Array.prototype.slice.call(arguments,1)):t))return!1;n.helpers&&S.each(n.helpers,function(e,t){t&&j.helpers[e]&&S.isFunction(j.helpers[e][i])&&(t=S.extend(!0,{},j.helpers[e].defaults,t),j.helpers[e][i](t,n))}),S.event.trigger(i+".fb")}},isImage:function(e){return p(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(e){return p(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t,i,n={};if(e=E(e),!(t=j.group[e]||null))return!1;if(t=(n=S.extend(!0,{},j.opts,t)).margin,i=n.padding,"number"===S.type(t)&&(n.margin=[t,t,t,t]),"number"===S.type(i)&&(n.padding=[i,i,i,i]),n.modal&&S.extend(!0,n,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),n.autoSize&&(n.autoWidth=n.autoHeight=!0),"auto"===n.width&&(n.autoWidth=!0),"auto"===n.height&&(n.autoHeight=!0),n.group=j.group,n.index=e,j.coming=n,!1===j.trigger("beforeLoad"))j.coming=null;else{if(i=n.type,t=n.href,!i)return j.coming=null,!(!j.current||!j.router||"jumpto"===j.router)&&(j.current.index=e,j[j.router](j.direction));if(j.isActive=!0,"image"!==i&&"swf"!==i||(n.autoHeight=n.autoWidth=!1,n.scrolling="visible"),"image"===i&&(n.aspectRatio=!0),"iframe"===i&&o&&(n.scrolling="scroll"),n.wrap=S(n.tpl.wrap).addClass("fancybox-"+(o?"mobile":"desktop")+" fancybox-type-"+i+" fancybox-tmp "+n.wrapCSS).appendTo(n.parent||"body"),S.extend(n,{skin:S(".fancybox-skin",n.wrap),outer:S(".fancybox-outer",n.wrap),inner:S(".fancybox-inner",n.wrap)}),S.each(["Top","Right","Bottom","Left"],function(e,t){n.skin.css("padding"+t,T(n.padding[e]))}),j.trigger("onReady"),"inline"===i||"html"===i){if(!n.content||!n.content.length)return j._error("content")}else if(!t)return j._error("href");"image"===i?j._loadImage():"ajax"===i?j._loadAjax():"iframe"===i?j._loadIframe():j._afterLoad()}},_error:function(e){S.extend(j.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:j.coming.tpl.error}),j._afterLoad()},_loadImage:function(){var e=j.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,j.coming.width=this.width,j.coming.height=this.height,j._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,j._error("image")},e.src=j.coming.href,!0!==e.complete&&j.showLoading()},_loadAjax:function(){var i=j.coming;j.showLoading(),j.ajaxLoad=S.ajax(S.extend({},i.ajax,{url:i.href,error:function(e,t){j.coming&&"abort"!==t?j._error("ajax",e):j.hideLoading()},success:function(e,t){"success"===t&&(i.content=e,j._afterLoad())}}))},_loadIframe:function(){var e=j.coming,t=S(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",o?"auto":e.iframe.scrolling).attr("src",e.href);S(e.wrap).bind("onReset",function(){try{S(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}}),e.iframe.preload&&(j.showLoading(),t.one("load",function(){S(this).data("ready",1),o||S(this).bind("load.fb",j.update),S(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),j._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||j._afterLoad()},_preloadImages:function(){for(var e,t=j.group,i=j.current,n=t.length,o=i.preload?Math.min(i.preload,n-1):0,a=1;a<=o;a+=1)"image"===(e=t[(i.index+a)%n]).type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var i,e,t,n,o,a=j.coming,r=j.current;if(j.hideLoading(),a&&!1!==j.isActive)if(!1===j.trigger("afterLoad",a,r))a.wrap.stop(!0).trigger("onReset").remove(),j.coming=null;else{switch(r&&(j.trigger("beforeChange",r),r.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),j.unbindEvents(),i=a.content,e=a.type,t=a.scrolling,S.extend(j,{wrap:a.wrap,skin:a.skin,outer:a.outer,inner:a.inner,current:a,previous:r}),n=a.href,e){case"inline":case"ajax":case"html":a.selector?i=S("<div>").html(i).find(a.selector):h(i)&&(i.data("fancybox-placeholder")||i.data("fancybox-placeholder",S('<div class="fancybox-placeholder"></div>').insertAfter(i).hide()),i=i.show().detach(),a.wrap.bind("onReset",function(){S(this).find(i).length&&i.hide().replaceAll(i.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":i=a.tpl.image.replace("{href}",n);break;case"swf":i='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+n+'"></param>',o="",S.each(a.swf,function(e,t){i+='<param name="'+e+'" value="'+t+'"></param>',o+=" "+e+'="'+t+'"'}),i+='<embed src="'+n+'" type="application/x-shockwave-flash" width="100%" height="100%"'+o+"></embed></object>"}h(i)&&i.parent().is(a.inner)||a.inner.append(i),j.trigger("beforeShow"),a.inner.css("overflow","yes"===t?"scroll":"no"===t?"hidden":t),j._setDimension(),j.reposition(),j.isOpen=!1,j.coming=null,j.bindEvents(),j.isOpened?r.prevMethod&&j.transitions[r.prevMethod]():S(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove(),j.transitions[j.isOpened?a.nextMethod:a.openMethod](),j._preloadImages()}},_setDimension:function(){var d,p,h,f,u,g,m,y,x,e=j.getViewport(),w=0,t=!1,i=!1,t=j.wrap,v=j.skin,n=j.inner,o=j.current,i=o.width,a=o.height,r=o.minWidth,l=o.minHeight,s=o.maxWidth,c=o.maxHeight,b=o.scrolling,k=o.scrollOutside?o.scrollbarWidth:0,C=o.margin,W=E(C[1]+C[3]),O=E(C[0]+C[2]);if(t.add(v).add(n).width("auto").height("auto").removeClass("fancybox-tmp"),p=W+(C=E(v.outerWidth(!0)-v.width())),h=O+(d=E(v.outerHeight(!0)-v.height())),f=_(i)?(e.w-p)*E(i)/100:i,u=_(a)?(e.h-h)*E(a)/100:a,"iframe"===o.type){if(x=o.content,o.autoHeight&&1===x.data("ready"))try{x[0].contentWindow.document.location&&(n.width(f).height(9999),g=x.contents().find("body"),k&&g.css("overflow-x","hidden"),u=g.height())}catch(e){}}else(o.autoWidth||o.autoHeight)&&(n.addClass("fancybox-tmp"),o.autoWidth||n.width(f),o.autoHeight||n.height(u),o.autoWidth&&(f=n.width()),o.autoHeight&&(u=n.height()),n.removeClass("fancybox-tmp"));if(i=E(f),a=E(u),y=f/u,r=E(_(r)?E(r,"w")-p:r),s=E(_(s)?E(s,"w")-p:s),l=E(_(l)?E(l,"h")-h:l),g=s,m=c=E(_(c)?E(c,"h")-h:c),o.fitToView&&(s=Math.min(e.w-p,s),c=Math.min(e.h-h,c)),p=e.w-W,O=e.h-O,o.aspectRatio?(a=(i=c<(a=s<i?E((i=s)/y):a)?E((a=c)*y):i)<r?E((i=r)/y):a)<l&&(i=E((a=l)*y)):(i=Math.max(r,Math.min(i,s)),o.autoHeight&&"iframe"!==o.type&&(n.width(i),a=n.height()),a=Math.max(l,Math.min(a,c))),o.fitToView)if(n.width(i).height(a),t.width(i+C),e=t.width(),W=t.height(),o.aspectRatio)for(;(p<e||O<W)&&r<i&&l<a&&!(19<w++);)a=Math.max(l,Math.min(c,a-10)),(i=E(a*y))<r&&(a=E((i=r)/y)),s<i&&(a=E((i=s)/y)),n.width(i).height(a),t.width(i+C),e=t.width(),W=t.height();else i=Math.max(r,Math.min(i,i-(e-p))),a=Math.max(l,Math.min(a,a-(W-O)));k&&"auto"===b&&a<u&&i+C+k<p&&(i+=k),n.width(i).height(a),t.width(i+C),e=t.width(),W=t.height(),t=(p<e||O<W)&&r<i&&l<a,i=o.aspectRatio?i<g&&a<m&&i<f&&a<u:(i<g||a<m)&&(i<f||a<u),S.extend(o,{dim:{width:T(e),height:T(W)},origWidth:f,origHeight:u,canShrink:t,canExpand:i,wPadding:C,hPadding:d,wrapSpace:W-v.outerHeight(!0),skinSpace:v.height()-a}),!x&&o.autoHeight&&l<a&&a<c&&!i&&n.height("auto")},_getPosition:function(e){var t=j.current,i=j.getViewport(),n=t.margin,o=j.wrap.width()+n[1]+n[3],a=j.wrap.height()+n[0]+n[2],n={position:"absolute",top:n[0],left:n[3]};return t.autoCenter&&t.fixed&&!e&&a<=i.h&&o<=i.w?n.position="fixed":t.locked||(n.top+=i.y,n.left+=i.x),n.top=T(Math.max(n.top,n.top+(i.h-a)*t.topRatio)),n.left=T(Math.max(n.left,n.left+(i.w-o)*t.leftRatio)),n},_afterZoomIn:function(){var t=j.current;t&&(j.isOpen=j.isOpened=!0,j.wrap.css("overflow","visible").addClass("fancybox-opened"),j.update(),(t.closeClick||t.nextClick&&1<j.group.length)&&j.inner.css("cursor","pointer").bind("click.fb",function(e){S(e.target).is("a")||S(e.target).parent().is("a")||(e.preventDefault(),j[t.closeClick?"close":"next"]())}),t.closeBtn&&S(t.tpl.closeBtn).appendTo(j.skin).bind("click.fb",function(e){e.preventDefault(),j.close()}),t.arrows&&1<j.group.length&&((t.loop||0<t.index)&&S(t.tpl.prev).appendTo(j.outer).bind("click.fb",j.prev),(t.loop||t.index<j.group.length-1)&&S(t.tpl.next).appendTo(j.outer).bind("click.fb",j.next)),j.trigger("afterShow"),t.loop||t.index!==t.group.length-1?j.opts.autoPlay&&!j.player.isActive&&(j.opts.autoPlay=!1,j.play()):j.play(!1))},_afterZoomOut:function(e){e=e||j.current,S(".fancybox-wrap").trigger("onReset").remove(),S.extend(j,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),j.trigger("afterClose",e)}}),j.transitions={getOrigPosition:function(){var e=j.current,t=e.element,i=e.orig,n={},o=50,a=50,r=e.hPadding,l=e.wPadding,s=j.getViewport();return!i&&e.isDom&&t.is(":visible")&&((i=t.find("img:first")).length||(i=t)),h(i)?(n=i.offset(),i.is("img")&&(o=i.outerWidth(),a=i.outerHeight())):(n.top=s.y+(s.h-a)*e.topRatio,n.left=s.x+(s.w-o)*e.leftRatio),"fixed"!==j.wrap.css("position")&&!e.locked||(n.top-=s.y,n.left-=s.x),{top:T(n.top-r*e.topRatio),left:T(n.left-l*e.leftRatio),width:T(o+l),height:T(a+r)}},step:function(e,t){var i=t.prop,n=j.current,o=n.wrapSpace,a=n.skinSpace;"width"!==i&&"height"!==i||(t=t.end===t.start?1:(e-t.start)/(t.end-t.start),j.isClosing&&(t=1-t),n=e-(n="width"===i?n.wPadding:n.hPadding),j.skin[i](E("width"===i?n:n-o*t)),j.inner[i](E("width"===i?n:n-o*t-a*t)))},zoomIn:function(){var e=j.current,t=e.pos,i=e.openEffect,n="elastic"===i,o=S.extend({opacity:1},t);delete o.position,n?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):"fade"===i&&(t.opacity=.1),j.wrap.css(t).animate(o,{duration:"none"===i?0:e.openSpeed,easing:e.openEasing,step:n?this.step:null,complete:j._afterZoomIn})},zoomOut:function(){var e=j.current,t=e.closeEffect,i="elastic"===t,n={opacity:.1};i&&(n=this.getOrigPosition(),e.closeOpacity&&(n.opacity=.1)),j.wrap.animate(n,{duration:"none"===t?0:e.closeSpeed,easing:e.closeEasing,step:i?this.step:null,complete:j._afterZoomOut})},changeIn:function(){var e,t=j.current,i=t.nextEffect,n=t.pos,o={opacity:1},a=j.direction;n.opacity=.1,"elastic"===i&&(e="down"===a||"up"===a?"top":"left","down"===a||"right"===a?(n[e]=T(E(n[e])-200),o[e]="+=200px"):(n[e]=T(E(n[e])+200),o[e]="-=200px")),"none"===i?j._afterZoomIn():j.wrap.css(n).animate(o,{duration:t.nextSpeed,easing:t.nextEasing,complete:j._afterZoomIn})},changeOut:function(){var e=j.previous,t=e.prevEffect,i={opacity:.1},n=j.direction;"elastic"===t&&(i["down"===n||"up"===n?"top":"left"]=("up"===n||"left"===n?"-":"+")+"=200px"),e.wrap.animate(i,{duration:"none"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){S(this).trigger("onReset").remove()}})}},j.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!o,fixed:!0},overlay:null,fixed:!1,create:function(e){e=S.extend({},this.defaults,e),this.overlay&&this.close(),this.overlay=S('<div class="fancybox-overlay"></div>').appendTo("body"),this.fixed=!1,e.fixed&&j.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(e){var t=this;e=S.extend({},this.defaults,e),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e),this.fixed||(i.bind("resize.overlay",S.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind("click.overlay",function(e){S(e.target).hasClass("fancybox-overlay")&&(j.isActive?j:t).close()}),this.overlay.css(e.css).show()},close:function(){S(".fancybox-overlay").remove(),i.unbind("resize.overlay"),this.overlay=null,!1!==this.margin&&(S("body").css("margin-right",this.margin),this.margin=!1),this.el&&this.el.removeClass("fancybox-lock")},update:function(){var e,t="100%";this.overlay.width(t).height("100%"),l?(e=Math.max(r.documentElement.offsetWidth,r.body.offsetWidth),n.width()>e&&(t=n.width())):n.width()>i.width()&&(t=n.width()),this.overlay.width(t).height(n.height())},onReady:function(e,t){S(".fancybox-overlay").stop(!0,!0),this.overlay||(this.margin=(n.height()>i.height()||"scroll"===S("body").css("overflow-y"))&&S("body").css("margin-right"),this.el=r.all&&!r.querySelector?S("html"):S("body"),this.create(e)),e.locked&&this.fixed&&(t.locked=this.overlay.append(t.wrap),t.fixed=!1),!0===e.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){t.locked&&(this.el.addClass("fancybox-lock"),!1!==this.margin&&S("body").css("margin-right",E(this.margin)+t.scrollbarWidth)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!j.isActive&&this.overlay.fadeOut(e.speedOut,S.proxy(this.close,this))}},j.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var t=j.current,i=t.title,n=e.type;if(S.isFunction(i)&&(i=i.call(t.element,t)),p(i)&&""!==S.trim(i)){switch(t=S('<div class="fancybox-title fancybox-title-'+n+'-wrap">'+i+"</div>"),n){case"inside":n=j.skin;break;case"outside":n=j.wrap;break;case"over":n=j.inner;break;default:n=j.skin,t.appendTo("body"),l&&t.width(t.width()),t.wrapInner('<span class="child"></span>'),j.current.margin[2]+=Math.abs(E(t.css("margin-bottom")))}t["top"===e.position?"prependTo":"appendTo"](n)}}},S.fn.fancybox=function(a){function e(e){var t,i,n=S(this).blur(),o=s;e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||n.is(".fancybox-wrap")||(t=a.groupAttr||"data-fancybox-group",(i=n.attr(t))||(t="rel",i=n.get(0)[t]),i&&""!==i&&"nofollow"!==i&&(o=(n=(n=l.length?S(l):r).filter("["+t+'="'+i+'"]')).index(this)),a.index=o,!1!==j.open(n,a)&&e.preventDefault())}var r=S(this),l=this.selector||"",s=(a=a||{}).index||0;return l&&!1!==a.live?n.undelegate(l,"click.fb-start").delegate(l+":not('.fancybox-item, .fancybox-nav')","click.fb-start",e):r.unbind("click.fb-start").bind("click.fb-start",e),this.filter("[data-fancybox-start=1]").trigger("click"),this},n.ready(function(){var e,t,i;S.scrollbarWidth===d&&(S.scrollbarWidth=function(){var e=S('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=(t=e.children()).innerWidth()-t.height(99).innerWidth();return e.remove(),t}),S.support.fixedPosition===d&&(e=S.support,i=20===(t=S('<div style="position:fixed;top:20px;"></div>').appendTo("body"))[0].offsetTop||15===t[0].offsetTop,t.remove(),e.fixedPosition=i),S.extend(j.defaults,{scrollbarWidth:S.scrollbarWidth(),fixed:S.support.fixedPosition,parent:S("body")})})}(window,document,jQuery);
var Cookie={COOKIE_DOMAIN:BrowserStackConfig.cookie_domain,HAS_MOVED:"moved",MAIN_DOMAIN:BrowserStackConfig.main_cookie_domain,ENV_NAME:BrowserStackConfig.env_name,COOKIE_SEPERATOR:BrowserStackConfig.cookie_seperator,shouldAddCookie:function(i){return!(!["JSESSIONID","__cf_bm","_cfuvid","cf_clearance","__tld__","bs_deviceId","last_visited_product_page","tracking_id","signedin","history","_session","ab_users","bs_user_details","has_moved","bs","UserOptCookie","moved","ConsentGeoDetail","extension_started"].some(function(e){return i.includes(e)})&&!document.cookie.includes("UserOptCookie=true"))},create:function(e,i,o,n){n=n||this.COOKIE_DOMAIN,o=(o=-1!=o?o||Config.cookie_expiry_map[e]||0:o)?((t=new Date).setTime(t.getTime()+24*o*60*60*1e3),"; expires="+t.toGMTString()):"";var t="";window.location.protocol.match(/https/)&&(t=";secure"),Cookie.shouldAddCookie(e)&&(n==this.MAIN_DOMAIN?document.cookie=e+"="+i+o+"; path=/;"+t:(Cookie.isEnvSpecificCookie(e)||(e=Cookie.getEnvSpecificCookies(e)),document.cookie=e+"="+i+o+"; domain="+n+"; path=/;"+t))},read:function(e){for(var i,o=e+"=",n=Cookie.getEnvSpecificCookies(e)+"=",t=Cookie.getEnvSpecificCookies(this.HAS_MOVED)+"=",s=document.cookie.split(";"),r=!1,c=null,a=null,k=0;k<s.length;k++){for(i=s[k];" "==i.charAt(0);)i=i.substring(1,i.length);0===i.indexOf(t)?r=!0:a||0!==i.indexOf(n)?c||0!==i.indexOf(o)||(c=i.substring(o.length,i.length)):a=i.substring(n.length,i.length)}return r||Cookie.moveToSubdomain(),a||c},moveToSubdomain:function(){for(var e,i,o,n,t=document.cookie.split(";"),s=0;s<t.length;s++){for(e=t[s];" "==e.charAt(0);)e=e.substring(1,e.length);i=e.indexOf("="),o=e.substring(0,i),i=e.substring(i+1,e.length),-1==Config.subdomain_cookies.indexOf(o)&&(Cookie.isEnvSpecificCookie(o)||(Cookie.erase(o,this.MAIN_DOMAIN),n=-1!=o.indexOf("skipped_extension_install_")?Config.cookie_expiry_map.skipped_extension_install:Config.cookie_expiry_map[o],Cookie.create(Cookie.getEnvSpecificCookies(o),i,n)))}Cookie.erase("has_moved"),Cookie.erase("history"),Cookie.create(Cookie.getEnvSpecificCookies(this.HAS_MOVED),1)},erase:function(e,i){this.MAIN_DOMAIN,Cookie.create(e,"",-1,i)},forceErase:function(e){var i=Cookie.getEnvSpecificCookies(e),o=new Date;o.setTime(o.getTime()+-864e5),o="; expires="+o.toGMTString(),document.cookie=i+"= "+o+";",Cookie.erase(e)},getEnvSpecificCookies:function(e){return Cookie.getEnvSpecificPrefix()+e},isEnvSpecificCookie:function(e){return-1!=e.indexOf(this.COOKIE_SEPERATOR)},getEnvSpecificPrefix:function(){return-1!=["production","fu"].indexOf(this.ENV_NAME)?"":this.ENV_NAME+this.COOKIE_SEPERATOR}};function guid(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}$(document).ready(function(){null==Cookie.read("tracking_id")&&Cookie.create("tracking_id",guid())});
function hashParamToObject(e){for(var t,n=e.split("#")[1].split("&"),o={},a=0;a<n.length;a++)(t=n[a].split("=")).length<2&&t.push(""),o[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);return o}function getURLParameter(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var o=t[n].split("=");if(o[0]==e)return decodeURIComponent(o[1])}return!1}function getURLParameterBasedOnUrl(e,t){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===e?"":decodeURIComponent(e[1])}function redirectToCSF(e){e=$.param(e);window.location.href=Config.generate_url("/contact?"+e)}!function(){var e=navigator.mediaDevices.getUserMedia;e&&(navigator.mediaDevices.getUserMedia=function(){return e.apply(navigator.mediaDevices,arguments).catch(function(e){if("NotAllowedError"!==e.name)throw e;console.warn(e)})})}(),String.prototype.capitalize=function(){return"string"!=typeof this?this:this.replace(/(^|\s)([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^Ie/,"IE")},window.onerror&&(window.onerror=function(){return!1}),"undefined"==typeof BrowserStack&&(BrowserStack={user:{}}),void 0!==BrowserStack.user.recentHistory&&null!=BrowserStack.user.recentHistory||(BrowserStack.user.recentHistory={}),void 0!==BrowserStack.user.pmtools&&null!=BrowserStack.user.pmtools||(BrowserStack.user.pmtools={});var Common={init:function(){Common.showNotificationOnPageLoad(),Common.initCallBackForTunnelForgot()},isBsCrossDomain:function(e){if(void 0===e)return!1;var t=document.createElement("a"),n=(t.href=window.location.href,document.createElement("a")),e=(n.href=e,n.href=n.href,t.hostname),t=n.hostname,n=e.split(".")[0],o=t.split(".")[0],e=e.split(".").slice(-2).join("."),t=t.split(".").slice(-2).join(".");return 0<=BrowserStackConfig.all_bs_subdomains.indexOf(n)&&0<=BrowserStackConfig.all_bs_subdomains.indexOf(o)&&BrowserStackConfig.domain===e&&BrowserStackConfig.domain===t},showNotificationOnPageLoad:function(){var e,t=BrowserStack.user.on_new_live_ui||userOnAutomateDashboard()||userOnAppAutomateDashboard()?(e=$(".alert.has-icon .message"),$(".alert.has-icon")):(e=$(".notifications .message"),$(".notifications .container"));null!=e.data("message")&&""!=e.data("message")&&showNotification(e.data("message"),t.data("klass"))},initCallBackForTunnelForgot:function(){var e="";userOnLiveDashboard()&&(e=".alert.alert-error"),0<=$.inArray(window.location.pathname,["/screenshots","/responsive"])&&(e=".alert.error"),$(e).off("click"),$(e).on("click","#tunnelforgot",function(){return null!=BrowserStack.user.userName&&BrowserStack.enableChromeExtension&&!browserExtension.installedAndEnabled?$("#install-button").click():window.location.href=Config.generate_url("/local-testing"),!1})},addPlansToRestart:function(e,t){if(t?0<e.className.indexOf("disabled"):e.hasClass("disabled"))return!1;t||(e.data("actual-text",e.text()),$("#restartLink, #overlay-restart-link").addClass("disabled").text("Fetching plans..."));var n={on_dashboard:userOnLiveDashboard()};return $.ajax({url:t?e.href:e.attr("href"),method:"POST",beforeSend:function(e){e.setRequestHeader("Accept","text/javascript")},data:n,dataType:"script",success:function(){},error:function(){}}),!1},emailCCReminder:function(e,t){if(t?0<e.className.indexOf("disabled"):e.hasClass("disabled"))return!1;t||e.addClass("disabled").text("Sending"),$.ajax({type:"POST",beforeSend:function(e){e.setRequestHeader("Accept","application/json")},dataType:"json",data:{timestamp:(new Date).getTime()},url:t?e.href:e.attr("href"),success:function(){t?e.text="Email Sent":e.text("Email Sent")},error:function(){t?e.classList.remove("disabled"):e.removeClass("disabled")}})},actionBtnRestart:function(){return 0<$("#overlay-restart-link").length||$("#restartLink, #restartPlans-modal .bs-modal-header").text().toLowerCase().match(/restart/)},initRestartPlansFromDashboard:function(){$("body").on("click","#restartPlans-modal #order-form button, #restartPlans #order-form button",function(){function n(){showNotification(Messages.restartPlansFailure,"error"),setTimeout(function(){window.location.href=Config.generate_url("/accounts/subscriptions")},1e3)}$(this).attr("disabled","disabled").find(".payment-spinner").removeClass("hide");var e=$("form#order-form"),t=$("form#order-form button");return t.text(t.data("disable-with")),$.ajax({url:Config.generate_url("/orders/create","accounts"),type:"POST",data:e.serialize(),beforeSend:function(e){e.setRequestHeader("Accept","application/json, text/javascript")},success:function(e){var t;$("#restartPlans-modal").hasClass("bs-modal")?e.success?e.is_sca?window.location.assign(e.redirect_url):(MagnificPopupBindings.updateSubscriptionSuccess(!0,e),Analytics.sendRestartAnalytics(Common.actionBtnRestart(),!1,null,e.meta_data)):MagnificPopupBindings.errorCallback(e.error):e.success?e.is_sca?window.location.assign(e.redirect_url):(e=e.meta_data,t=$("#pricing-upgrade-link"),Analytics.sendRestartAnalytics(Common.actionBtnRestart(),!1,null,e),"undefined"!=typeof AnimationHelper?(AnimationHelper.flipFromRestartPlans(),$("#restart-back").removeClass("hide"),Reactor.accountPanel.showRestartBack(),$("#browser-list").removeClass("disabled"),AccountPnl.hide(),Reactor.live.platformList.showOnboardOverlay()):$("#restartPlans-modal").modal("hide"),$("#btnStartTest, #btnStart, #qs-start, #btnSnapshot").removeAttr("disabled").removeClass("disabled"),$(".automate-error-wrapper").addClass("hide"),$(".alert").removeClass("show").addClass("hide"),$("#pricing-upgrade-link").addClass("hide").removeClass("show"),showNotification(Messages.restartPlansSuccess,"success"),"undefined"!=typeof AnimationHelper&&setTimeout(function(){$("#account-pnl").addClass("hide").removeClass("show")},300),$('<li class="no-btn active btn-green" id="upgrade-modal-cta"><a href="#" class="reg-link success-alt narrow account-header-bt">Upgrade</a></li>').insertAfter(t),t.remove()):n()},error:function(){n()}}),!1})},formatCurrenyWithCommas:function(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},showDownTimeNotifications:function(){var e=Cookie.read("downtime_notified"),t=!1;!e||!0===(e=JSON.parse(e))?e={}:t=e.notifDowntime,ExperimentHelper.scheduledMobileDown(BrowserStack.user)&&!t?(showNotification(Messages.scheduledMobileDowntime,"error",-1),e.notifDowntime=!0):e.notifDowntime=ExperimentHelper.scheduledMobileDown(BrowserStack.user),Cookie.create("downtime_notified",JSON.stringify(e))},getCurrentSubdomainFromDashboard:function(){return window.location.host.split(".")[0]},isValidURL:function(e){return e.match(/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([-.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?\/?(.*)?$/)},isFirefox:function(){return"firefox"===$.browser.name},isChrome:function(){return"chrome"===$.browser.name},getBrowserNameBasedOnUserAgent:function(){var e=navigator.userAgent.toLowerCase();switch(!0){case-1<e.indexOf("edge"):return"edge";case-1<e.indexOf("edg"):return"chromium";case-1<e.indexOf("opr")&&!!window.opr:return"opera";case-1<e.indexOf("yandex")&&!!window.yandex:return"yandex";case-1<e.indexOf("chrome")&&!!window.chrome:return"chrome";case-1<e.indexOf("trident"):return"ie";case-1<e.indexOf("firefox"):return"firefox";case-1<e.indexOf("safari"):return"safari";default:return"other"}},signallingDebugQuery:function(e,t){e={uid:BrowserStack&&BrowserStack.user&&BrowserStack.user.userId,js:BrowserStackConfig&&BrowserStackConfig.rails_release,tag:e||"common",browser:BrowserDetect&&BrowserDetect.browser,os:null,subdomain:null};try{e.os=OSDetect.user_os(),e.subdomain=Common.getCurrentSubdomainFromDashboard(),t&&(e.iov=t)}catch(e){Log.debug("Exception in signallingDebugQuery ",e)}return new URLSearchParams(e).toString()}};function getAppVersionFromString(e){var t,n;if(e&&(t=e.split("-"))&&1<t.length&&(n=t[1].split(":"))&&1<n.length)return n[1]}function isSessionReloadRequired(){return LocalTesting.restartRemoteSession}function isValidCommandLineTunnelResponse(e,t){return e&&e.split("-")[0]===BrowserStack.user.auth_token||t&&t.toString()===BrowserStack.user.userId}function markLocalAppDetected(){Reactor.localTesting.getIsAppOpen()||Reactor.localTesting.localAppStarted()}function commandLineTunnel(e,t,n,o,a,r,i,s,c){if(LocalStorage.get("localDownloadV2ExpEventSent")||(WebEventTracker.logEvent([],EDS.liveWebEvents,"LocalAppDetected",{user_id:window.BrowserStack.user.userId,session_id:!!viewerOn&&window.BsWebrtcApi.live_session_id}),LocalStorage.set("localDownloadV2ExpEventSent",!0)),!Reactor.localTesting.getIsLocalSettingsToggleInProgress()){if(LocalTesting.restartRemoteSession=!1,LocalTesting.binaryVersion=void 0!==a?parseFloat(a):0,LocalTesting.bsLocalSuccess=!0,Reactor.localTesting.isLocalPollingSuccessUpdated(!0),-1===["polling","error","enabled","authInProgress"].indexOf(Reactor.localTestingStates.getLocalTestingState())&&Reactor.localTestingStates.setLocalTestingState("polling"),LocalStorage.set("userLaunchedBinaryOrDesktopApp",!0),markLocalAppDetected(),LocalTesting.showBinaryVersionUpdateNotification(i),Reactor.accountPanel.getshowChromeAppDeprecationMessageVisibility()&&Reactor.accountPanel.showChromeAppDeprecationMessage(!1),null!=s&&(LocalTesting.localAppSessionIdentifier=e.split(/-(.+)/)[1],null==LocalTesting.getIdentifierFromLocalStorage()?(a=s.split(":")[0],LocalTesting.setIdentifierInLocalStorage(a)):null==LocalTesting.getIdentifierFromLocalStorage()||(a=LocalTesting.getIdentifierFromLocalStorage())!=(s=s.split(":")[0])&&(LocalTesting.setIdentifierInLocalStorage(s),WebEventTracker.logEvent(["amplitude"],EDS.webEvents,"LocalStorageIdentifierMismatch",{OldLocalIdentifier:a,newLocalIdentifier:s}))),Reactor.localTesting.getIsForceLocalEnable()!==r&&(Reactor.localTesting.setForceLocalEnable(r),Dock.tunnelConnected()),e?(browserExtension.key=BrowserStack.user.auth_token,i||(Reactor.localTesting.setLocalTestingType("binary"),LocalStorage.get("localDownloadV2ExpEventSentBinary")||(WebEventTracker.logEvent([],EDS.liveWebEvents,"LocalAppConnectionSuccess",{user_id:window.BrowserStack.user.userId,session_id:!!viewerOn&&window.BsWebrtcApi.live_session_id,connection_type:"binary"}),LocalStorage.set("localDownloadV2ExpEventSentBinary",!0)),"enabled"!==Reactor.localTestingStates.getLocalTestingState()&&Reactor.localTestingStates.setLocalTestingState("enabled"),setCookieForLocalOnboardedUser()),markUserAsBinaryOrNativeOnboarded(i),i?(a="","true"==Cookie.read("cmd_tunnel")&&("node"==Cookie.read("cmd_tunnel_type")?(a="Node Command Line",(i=LocalTesting.launchDetails)&&(a=i)):a="Command Line"),a&&(BsLive.summaryLogReport.tunnel_type=a),"Web"!=a&&"Extension"!=a&&(BsLive.summaryLogReport.tunnel_kind=Cookie.read("cmd_tunnel_kind")),"undefined"!=typeof Reactor&&(Reactor.localTesting.setLocalTestingType("desktop_app"),"enabled"!==Reactor.localTestingStates.getLocalTestingState()&&Reactor.localTestingStates.setLocalTestingState("enabled"),setCookieForLocalOnboardedUser(),LocalStorage.get("localDownloadV2ExpEventSentDesktop")||(WebEventTracker.logEvent([],EDS.liveWebEvents,"LocalAppConnectionSuccess",{user_id:window.BrowserStack.user.userId,session_id:!!viewerOn&&window.BsWebrtcApi.live_session_id,connection_type:"desktop_app"}),LocalStorage.set("localDownloadV2ExpEventSentDesktop",!0))),LocalTesting.latestAppVersion||setTimeout(function(){LocalTesting.latestAppVersion=null},18e5),LocalTesting.launchDetails=i):LocalTesting.launchDetails&&(LocalTesting.launchDetails="App-appVersion:nil-binVersion:"+LocalTesting.binaryVersion)):-1<["desktop_app","binary"].indexOf(Reactor.localTesting.getLocalTestingType())&&(Reactor.localTesting.setIsLocalConnected(!1),Reactor.localTesting.setLocalTestingType("none"),Reactor.localTestingStates.setLocalTestingState("true"===LocalStorage.get("userLaunchedBinaryOrDesktopApp")?"awaitingAppStart":"disabled"),LocalTesting.restartRemoteSession=!0),authenticateDesktopApp(e,r,i),LocalTesting.appInstallationSkipped||("local_testing_modal"===Reactor.modal.isVisible()&&(Reactor.modal.hide(),NewLocalTesting.onCloseLocalTestingDialog()),LocalTesting.appInstallationSkipped=!0),"0"==n&&(LocalTesting.starDotStarBinaryUsed=!0),null!=t&&(t=LocalTesting.sanitizeValues(t)),isValidCommandLineTunnelResponse(e,c)){LocalTesting.cookieSetForTunnel()&&($("#command-line-start").removeClass("hide").addClass("show"),$("#qs-start-command").removeClass("hide").addClass("show"),userOnLiveDashboard()&&BrowserStack.user&&BrowserStack.user.on_new_live_ui&&Dock.tunnelConnected()),LocalTesting.commandLineTunnelExists||(LocalTesting.localConnectedSiteMesgCommandLine(t,n),LocalTesting.restartRemoteSession=!0,"none"!==Reactor.localTesting.getLocalTestingType()&&("onboarding_modal"===viewerParams.startElement&&(viewerParams.isOnboardingLocalReconnected="true"),Reactor.localTesting.initiatedRestartAfterTunnelConnection()));try{"0"!=n&&1==t.length||(LocalTesting.commandLineTunnelExists=!0,LocalTesting.commandLineTunnelCounter+=1)}catch(e){}1==LocalTesting.commandLineTunnelCounter&&"true"!=Cookie.read("cmd_tunnel")&&(LocalTesting.fireDisconnectTunnel=!1,$("#cmd-tunnelModal").modal("hide"),Cookie.create("cmd_tunnel","true"),o&&"node"===o&&Cookie.create("cmd_tunnel_type","node"),LocalTesting.highLightInternalUrlTab(1)),"true"==Cookie.read("cmd_tunnel")&&"0"==n&&"Server"!=Cookie.read("cmd_tunnel_kind")?Cookie.create("cmd_tunnel_kind","Server"):"true"==Cookie.read("cmd_tunnel")&&"1"==n&&"Folder"!=Cookie.read("cmd_tunnel_kind")&&Cookie.create("cmd_tunnel_kind","Folder"),"true"==Cookie.read("cmd_tunnel")&&(userOnResponsiveDashboard()||userOnScreenshotDashboard())&&$("body").click()}sendPollingResponseEvent(e,o,i,r),isSessionReloadRequired()&&(s=userOnLiveDashboard()&&viewerOn,reloadSession("ip_change"!==Loader.trigger?"local":Loader.trigger,n,!0),!s&&LocalTesting.isDisconnectedDueToIP&&(LocalTesting.isDisconnectedDueToIP=!1,SessionManager.remoteStart())),BrowserStack.user&&BrowserStack.user.on_new_live_ui&&void 0!==t&&1<t.length&&!LocalTesting.isDisconnectedDueToIP&&Dock.showLocalFolder(t[0])}}function sendPollingResponseEvent(e,t,n,o){var a,r=Reactor.localTesting.getLocalStateObj();r?r.key===e&&r.type===t&&r.launchDetails===n||(a={old_key:r.key||"",old_type:r.type||null,old_app_details:r.launchDetails||null,change_type:"response_change"}):a={old_key:null,old_type:null,old_app_details:null,change_type:"server_start_or_dashboard_load"},a&&(r={team:"local",key:e||"",type:t||null,app_details:n||null,force_local:o||!1,live_tunnel_type:Reactor.localTesting.getLocalTestingType(),live_react_local_flag:Reactor.localTesting.getIsLocalConnected(),live_js_local_flag:LocalTesting.isLocalTestingOn(),session_id:BsWebrtcApi.live_session_id},Object.assign(r,a),WebEventTracker.logEvent(["amplitude"],EDS.webEvents,"LocalResponseChange",r),Reactor.localTesting.setLocalStateObj({key:e,type:t,launchDetails:n}))}function reloadSession(e,t,n){"live"===getProductName()&&Reactor.multiDeviceSession.getIsMultiDeviceSessionExpOn()&&1<Reactor.multiDeviceSession.getDeviceConfigs().length?handleSessionReloadForLocalForMS():userOnLiveDashboard()&&viewerOn&&("1"==t&&(localUrlClicked="http://"+BrowserStack.user.userName+".browserstack.com"),Loader.trigger=e||"start","local"===e&&(viewerParams.startElement="local",n&&(viewerParams.tunnelPresent=LocalTesting.isLocalTestingOn(),LocalTesting.isDisconnectedDueToIP=!1)),Reactor.toolbar.ipLocation.isIpNone()||DockLocation.prepareSessionIPNone(),Dock.hide(),n&&LocalTesting.isDisconnectedDueToIP&&Reactor.toolbar.ipLocation.isIpNone()&&(LocalTesting.isDisconnectedDueToIP=!1,$(".location-loader-spinner").removeClass("loader-active")),SessionManager.remoteStart())}function markUserAsBinaryOrNativeOnboarded(e){BrowserStack.user.localBinaryOrNativeOnboarded||($.ajax({type:"POST",url:Config.generate_url("/user/mark_binary_or_native_onboarded")}),$.ajax({url:"/user/mark-checklist-item",type:"POST",data:{key_to_add:"checklist_local_testing"},beforeSend:function(e){e.setRequestHeader("Accept","application/json")}}),BrowserStack.user.localBinaryOrNativeOnboarded=!0,clearInterval(browserExtension.deprInterval),userOnLiveDashboard()&&WebEventTracker.logEvent([],EDS.liveWebEvents,"FirstTimeLocalTunnelEstablished",{app_type:BrowserStack.user.localAppData.app_type,product:friendlyProductKey(),app_version:e?getAppVersionFromString(e):""}))}function handleSessionReloadForLocalForMS(){Reactor.multiDeviceSession.triggerSessionReloadForAllActiveSession("local","local")}function setCookieForLocalOnboardedUser(){Cookie.read("user_binary_or_native_onboarded")||(Cookie.create("user_binary_or_native_onboarded",!0),browserExtension.installedAndEnabled&&browserExtension.tunnel.disconnect())}function authenticateDesktopApp(e,t,n){e||LocalTesting.sentKeyDataRequest||LocalTesting.hasKeyDataFailedWith4005||!LocalTesting.canSendKeyDataReq&&!checkIfAppIsAboveVersionTreshold(n)||oneOngoingStart?(BrowserStack.enableDesktopApp||ExperimentHelper.chromeLocalApp(BrowserStack.user))&&(LocalTesting.blankKeyData=(LocalTesting.blankKeyData||0)+1,10<LocalTesting.blankKeyData&&(LocalTesting.blankKeyData=0,LocalTesting.sentKeyDataRequest=!1)):(LocalTesting.sentKeyDataRequest=!0,LocalTesting.latestAppVersion=null,Reactor.localTestingStates.setLocalTestingState("authInProgress"),sendAjaxForDesktopAppAuth().then(function(e){LocalTesting.bsLocalSuccess=!1,Reactor.localTesting.isLocalPollingSuccessUpdated(!1),LocalTesting.hasKeyDataFailedWith4005=!1,LocalTesting.isKeyDataRequestFailedBefore=!1,$("#local-app-modal .modal-cta-holder").hide(),$("#local-app-modal .local-app-success").show(),!("object"==typeof e?e.status:"Starting connection to BrowserStack"===e)||t||skipForLocalOnboardingExp()||showNotification("Your local testing has been enabled.","success",11e3),LocalTesting.launchDetails="App-appVersion:nil-binVersion:"+LocalTesting.binaryVersion,setTimeout(function(){$("#local-app-modal").is(":visible")&&browserExtension.hideAppPopupAndShowListing(!0)},1e4)},function(e){Reactor.localTesting.setIsLocalConnected(!1);var t=500==e.status&&e.responseText?JSON.parse(e.responseText):null;LocalTesting.canSendKeyDataReq=!1,t&&t.bsErrorCode&&(LocalTesting.isKeyDataRequestFailedBefore||(LocalTesting.isKeyDataRequestFailedBefore=!0,Reactor.localTestingStates.setLocalTestingState("error"),4005===t.bsErrorCode?(LocalTesting.hasKeyDataFailedWith4005=!0,LocalTesting.showBinaryVersionUpdateNotification(n,"keydata"),LocalTesting.forceVersionUpdateMessageShown||showNotification('Local testing is not enabled. If you are behind a proxy, <a href="http://localhost:45454/" target="_blank">click here</a> to configure your proxy settings',"error",-1)):t.msg&&showNotification("[CONN_FAIL:"+t.bsErrorCode+"] "+t.msg,"error",-1),browserExtension.createAnalyticsLog("keyData-request-failed"),WebEventTracker.logEvent([],EDS.liveWebEvents,"LocalTunnelAuthenticationStatus",{status:"failure",product:friendlyProductKey(),app_type:BrowserStack.user.localAppData&&BrowserStack.user.localAppData.app_type||"",app_version:n?getAppVersionFromString(n):"",session_id:viewerParams&&viewerParams.live_session_id,in_session:viewerOn}),LocalStorage.get("localDownloadV2ExpEventSentFailure")||(WebEventTracker.logEvent([],EDS.liveWebEvents,"LocalAppConnectionFailure",{user_id:window.BrowserStack.user.userId,session_id:!!viewerOn&&window.BsWebrtcApi.live_session_id,reason:e.responseText}),LocalStorage.set("localDownloadV2ExpEventSentFailure",!0))))}))}function sendAjaxForDesktopAppAuth(){return new Promise(function(t,n){$.post(LocalTesting.getCurrentLocalTestingUrl()+"/keyData",{key:BrowserStack.user.auth_token,forceLocal:"true"==Cookie.read("bs_force_local"),bypassGA:"undefined"!=typeof Reactor&&Reactor.localTesting.getGoogleAnalyticsSource(),authenticationSource:"live-dashboard"},function(e){t(e)}).fail(function(e){n(e)})})}function commandLineDisconnected(){}function checkIfAppIsAboveVersionTreshold(e){return Experiments.local_app_auto_connection&&3.2<=parseFloat(getAppVersionFromString(e),10)}function skipForLocalOnboardingExp(){return"url_local_trigger_with_lt"===BrowserStack.user.live.experiments.urlBar&&!viewerOn}function viewCalculations(e){$(e).on("click","#viewCalc",function(){$(".cart-breakdown").hasClass("show")?($(this).removeClass("sel"),$(".cart-breakdown").slideUp(250,"easeOutCubic",function(){$(this).addClass("hide").removeClass("show").removeAttr("style")})):($(this).addClass("sel"),$(".cart-breakdown").slideDown(250,"easeInCubic",function(){$(this).addClass("show").removeClass("hide").removeAttr("style")}))}),$(e).on("click",".pro-calc-head",toggleProrationSection);e=$(e).find(".pro-calc-head");window.keyAndClickBinding(e,toggleProrationSection.bind(e))}function toggleProrationSection(){var e=this;$(this).hasClass("caret-down")?$(".prorationCalculations").slideDown(250,"easeInCubic",function(){$(this).addClass("show").removeClass("hide"),$(e).addClass("caret-up").removeClass("caret-down")}):$(this).hasClass("caret-up")&&$(".prorationCalculations").slideUp(250,"easeOutCubic",function(){$(this).addClass("hide").removeClass("show"),$(e).addClass("caret-down").removeClass("caret-up")})}function friendlyProductKey(){var e,t=getProductKey();if(t)return e=t.split("_"),1<e.length?titleizeVersion(e.join(" ")):titleizeVersion(t)}function getProductKey(){var e,t={live:userOnLiveDashboard(),app_automate:userOnAppAutomateDashboard(),automate:userOnAutomateDashboard(),responsive:userOnResponsiveDashboard(),app_live:userOnAppLiveDashboard(),screenshots:userOnScreenshotDashboard(),new_automate:userOnNewAutomateDashboard(),new_app_automate:userOnNewAppAutomateDashboard(),test_insights:userOnTestInsightsDashboard(),speedlab:userOnSpeedlabDashboard(),testops:userOnTestOpsDashboard(),accounts:userOnAccountsPage(),search:userOnSearchPage()};for(e in t)if(!0===t[e])return e}function escapeHtml(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function showNotification(e,t,n){var o,a;null==n&&(n=5e3),userOnLiveDashboard()||userOnAutomateDashboard()||userOnAppAutomateDashboard()||userOnTestOpsDashboard()?Messages.showMessage(e,t,{},n):("success"===t?o="error":"error"===t&&(o="success"),void 0!==a&&window.clearTimeout(a),$(".notifications .message").html(e),0<(a=$(".notifications .icon").find("img")).length&&a.attr("src",a.attr("src").replace(o,t)),$(".notifications").show().animate({top:"0px"},300,"easeInCubic"),$(".notifications div:first").removeClass(o).addClass(t),n<=0?$(".notifications").show():setTimeout(function(){$(".notifications").show().animate({top:"-165px"},300,"easeOutCubic")},n))}function getProductName(){var e,t=window.location.hostname.split(".");if(2===t.length||"www"===t[0]){if((e=window.location.pathname.split("/")).length<=1)return"browserstack";switch(e[1]){case"screenshots":return"screenshots";case"responsive":return"responsive";case"webperformance":return"webperformance";default:return"browserstack"}}return t[0].split("-"+BrowserStackConfig.subdomains.default)[0].replace("-enterprise","")}function userOnAccountsPage(){return-1<window.location.pathname.indexOf("accounts")}function userOnSearchPage(){return-1<window.location.pathname.indexOf("search")}function userOnLiveDashboard(){return"/start"==window.location.pathname||"/test"==window.location.pathname||"/user/dashboard"==window.location.pathname||-1!=window.location.host.indexOf("live")&&("/dashboard"==window.location.pathname||"/"==window.location.pathname)}function userOnAutomateDashboard(){return window.location.hostname.match("automate*")||"/automate"==window.location.pathname||/automate\/builds/.test(window.location.pathname)||0===window.location.host.indexOf("automate")&&("/dashboard"==window.location.pathname||"/"==window.location.pathname||/builds/.test(window.location.pathname))}function userOnAppAutomateDashboard(){return window.location.hostname.match("app-automate*")||"/app-automate"==window.location.pathname||/app-automate\/builds/.test(window.location.pathname)||0===window.location.host.indexOf("app-automate")&&("/dashboard"==window.location.pathname||"/"==window.location.pathname||/builds/.test(window.location.pathname))}function userOnSpeedlabDashboard(){return-1<window.location.pathname.indexOf("/speedlab")}function userOnScreenshotDashboard(){return"/screenshots"==window.location.pathname||window.location.pathname.match(/\/screenshots\/.*/)}function userOnResponsiveDashboard(){return"/responsive"==window.location.pathname}function userOnAppLiveDashboard(){return-1<window.location.hostname.indexOf("app-live")}function userOnTestOpsDashboard(){return-1<window.location.hostname.indexOf("observability")}function userOnNewAutomateDashboard(){return/dashboard\/v2/.test(window.location.pathname)&&/^automate/.test(window.location.hostname)}function userOnNewAppAutomateDashboard(){return/dashboard\/v2/.test(window.location.pathname)&&/^app-automate/.test(window.location.hostname)}function userOnTestInsightsDashboard(){return"/accounts/usage-reporting"==window.location.pathname}function getProductWebEventValue(){var e=EDS.webEvents;return userOnAppLiveDashboard()?e=EDS.appLiveWebEvents:userOnLiveDashboard()?e=EDS.liveWebEvents:userOnAppAutomateDashboard()?e=EDS.appAutomateWebEvents:userOnAutomateDashboard&&(e=EDS.automateWebEvent),e}function browserDisplayVersion(e){return e?e.replace(/(\.0)/,""):""}function userLoggedInOnLiveDashboard(){return userOnLiveDashboard()&&null!=BrowserStack.user.userId}function capitalize(e){return e&&(2==e.length?e.toUpperCase():e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())}function titleizeVersion(e){return e&&e.split(" ").map(function(e){return capitalize(e)}).join(" ")}function startPerformanceWatcher(){var e;"undefined"!=typeof PerformanceWatcherBrowser&&BrowserStackConfig.performanceWatcherEnabled&&(e=getProductKey(),(e=PerformanceWatcherBrowser.WORKER_CONFIG[e])&&((e=new PerformanceWatcherBrowser(e)).start(),BrowserStack&&(BrowserStack.performanceWatcherBrowser=e)))}function resetPageURL(){var e=window.location;-1!=window.navigator.userAgent.indexOf("Firefox")&&(window.location.hash=window.location.hash),window.history.replaceState("",document.title,e.origin+e.pathname)}function isScrolledIntoView(e,t){var n=$(window).scrollTop(),o=n+$(window).height(),a=$(e).offset().top;return a+(t?$(e).outerHeight():$(e).height())<=o&&n<=a}function getUrlVars(){var o={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,t,n){o[t]=n}),o}function reloadIfForwardBack(){performance&&window.isPerformanceGetEntriesByTypeAvailable()&&performance.getEntriesByType("navigation")&&performance.getEntriesByType("navigation")[0]&&"back_forward"===performance.getEntriesByType("navigation")[0].type&&window.location.reload()}function userFromForward(){return performance&&window.isPerformanceGetEntriesByTypeAvailable()&&performance.getEntriesByType("navigation")&&performance.getEntriesByType("navigation")[0]&&"back_forward"===performance.getEntriesByType("navigation")[0].type}function getDashboardDestination(){return window.location.hostname.split(".")[0]}function keyAndClickBinding(e,t,n){null==n&&(n=[]),e.keydown(function(e){(!n.includes("enter")&&13===e.which||!n.includes("space")&&32===e.which)&&(t(e),e.preventDefault())}),n.includes("click")||e.click(function(){t()})}function isElementInViewport(e){var t;"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);try{return 0<=(t=e.getBoundingClientRect()).top&&0<=t.left&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}catch(e){return!1}}$(document).ajaxSend(function(e,t,n){void 0!==window._token&&window._add_token&&"true"!==n.cors_logging&&("POST"!=n.type&&"PUT"!=n.type||(n.data=n.data||"",n.data+=(n.data?"&":"")+"authenticity_token="+encodeURIComponent(window._token)),Common.isBsCrossDomain(n.url)&&(jQuery.rails.CSRFProtection(t),n.xhrFields={withCredentials:!0}))}),$(document).ready(function(){startPerformanceWatcher(),-1<["live","automate"].indexOf(getProductKey())&&"undefined"!=typeof BrowserStackConfig&&BrowserStackConfig.temporaryDashboardMessage&&(Messages.removeAllMessages(0),showNotification(BrowserStackConfig.temporaryDashboardMessage,"negative",3e4)),null!=window.location.pathname.match(/users\/sign_in/)&&$("a[href='/users/sign_up']").attr("href","/users/sign_up"+window.location.hash),Common.init(),$(".request-access").on("click",function(e){var t=$(this);$(".request-access").attr("disabled","disabled").text("Requesting.."),$.ajax({type:"POST",url:Config.generate_url("/user/request-team-service"),data:{product:t.data("page")},dataType:"json",success:function(){$(".request-access").text("Request Sent"),$(".request-access").removeClass("request-access").addClass("disabled")},error:function(){$(".request-access").text("Request Access").removeAttr("disabled")}}),e.preventDefault()}),$(".unsubscribe_submit").on("click",function(){WebEventTracker.logEvent([],EDS.automateWebEvent,"EmailUnsubscribe")});var e=$(".alert.has-icon"),t=getURLParameter("sca_success")||"",n=escapeHtml(getURLParameter("sca_message")||"");"true"==t&&"true"==n?(0<e.length?showNotification("Your plan has been updated successfully","success",5e3):jQuery.bsAlert.alert({text:"Your plan has been updated successfully",alertType:"success"}),resetPageURL()):n&&(0<e.length?showNotification(n,"error",5e3):jQuery.bsAlert.alert({text:n,alertType:"error",timeout:15e3}),resetPageURL())}),function(s){s.imageloader=function(e){var o=s.extend({urls:[],onComplete:function(){},onUpdate:function(){},onError:function(){}},e),a=0,r=o.urls,i=r.length;s.each(r,function(e,t){var n=new Image;n.src=t,n.onerror=function(){a+=1,o.onError("Error loading image: "+t)},s("<img/>").attr("src",t).load(function(){a+=1,o.onUpdate(a/i,r[a-1]),a===i&&o.onComplete()})})}}(jQuery),function(){var a=jQuery.event.special,t="D"+ +new Date,n="D"+(+new Date+1);a.scrollstart={setup:function(){function e(e){var t=arguments;n?clearTimeout(n):(e.type="scrollstart",(void 0===jQuery.event.handle?jQuery.event.dispatch:jQuery.event.handle).apply(this,t)),n=setTimeout(function(){n=null},a.scrollstop.latency)}var n;jQuery(this).bind("scroll",e).data(t,e)},teardown:function(){jQuery(this).unbind("scroll",jQuery(this).data(t))}},a.scrollstop={latency:300,setup:function(){function e(e){var t=this,n=arguments;o&&clearTimeout(o),o=setTimeout(function(){o=null,e.type="scrollstop",(void 0===jQuery.event.handle?jQuery.event.dispatch:jQuery.event.handle).apply(t,n)},a.scrollstop.latency)}var o;jQuery(this).bind("scroll",e).data(n,e)},teardown:function(){jQuery(this).unbind("scroll",jQuery(this).data(n))}}}(),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),function(t){var r={threshold:370};function n(e){var t,n,o,a;void 0!==e.originalEvent&&(n=jQuery(this),t=jQuery.extend({},r,e.data),o=n.data("triclick_clicks")||0,a=n.data("triclick_start")||0,0!=(a=0===o?e.timeStamp:a)&&e.timeStamp>a+t.threshold&&(o=0,a=e.timeStamp),3===(o+=1)&&(e.preventDefault(),a=o=0,e.type="tripleclick",(void 0===jQuery.event.handle?jQuery.event.dispatch:jQuery.event.handle).apply(this,arguments)),n.data("triclick_clicks",o),n.data("triclick_start",a))}t.event.special.tripleclick={setup:function(e){t(this).bind("touchstart click.triple",e,n)},teardown:function(){t(this).unbind("touchstart click.triple",n)}}}(jQuery),function(o){o.fnSelect=function(e,t){o(document).on(t,"."+e,function(e){var t,n;return t=this,document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),t=o(t).text()!=t.childNodes[0].nodeValue?t:t.childNodes[0],document.selection?((n=document.body.createTextRange()).moveToElementText(t),n.select()):window.getSelection&&((n=document.createRange()).selectNode(t),window.getSelection().addRange(n)),e.preventDefault(),!1})},o.fnSelect("bs-selectable","dblclick"),o.fnSelect("bs-selectable-line","tripleclick"),window.parseUri=function(e){for(var o=parseUri.options,t=o.parser[o.strictMode?"strict":"loose"].exec(e),a={},n=14;n;)a[o.key[n]]=t[n]||"",--n;return a[o.q.name]={},a[o.key[12]].replace(o.q.parser,function(e,t,n){t&&(a[o.q.name][t]=n)}),a},parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}}}(jQuery),function(e){var t=LocalStorage.get("skippedCookiesCleared");"firefox"===e.browser.name&&57<=e.browser.version&&!t&&function(){for(var e=document.cookie.split(";").filter(function(e){return e.match("skipped_extension_install")}),t=0;t<e.length;t++)Cookie.create(e[t].split("=")[0],"",-1);LocalStorage.set("skippedCookiesCleared",!0)}()}(jQuery),$(".cross_product_exploration").click(function(){WebEventTracker.logEvent([],EDS.webEvents,"ClickedOnHeader",{Properties_Source:getDashboardDestination(),Properties_Destination:$(this).data("product"),abExp:window.BrowserStackConfig.amplitudeAbExperiments,signed_in:!!window.CURRENT_USER,url:window.location.href,team:"online_sales",product:friendlyProductKey(),screenResolution:document.documentElement.clientWidth,affinityProductsCount:document.documentElement.clientWidth<1440?"2":"3"})}),$(".header-dropdown-item").mouseenter(function(){$(this).hasClass("products__link")?window.WebEventTracker&&window.EDS&&window.WebEventTracker.logEvent([],window.EDS.webEvents,"HoveredOnHeader",{action:"Hovered On Header "+$(this).data("product"),location:"Primary Header",group:"Product",abExp:window.BrowserStackConfig.amplitudeAbExperiments,signed_in:!!window.CURRENT_USER,url:window.location.href,source:"Homepage_Demo_CTA_Exp1"}):window.WebEventTracker&&window.EDS&&window.WebEventTracker.logEvent([],window.EDS.webEvents,"HoveredOnHeader",{action:"Hovered On Header "+$(this).data("product"),location:"Primary Header",group:"Product",abExp:window.BrowserStackConfig.amplitudeAbExperiments,signed_in:!!window.CURRENT_USER,url:window.location.href})}),$(".header-tools, .header-dropdown-item").click(function(){$(this).hasClass("products__link")&&WebEventTracker.logEvent([],EDS.webEvents,"ClickedOnHeader",{Properties_Source:getDashboardDestination(),Properties_Destination:$(this).data("product"),abExp:window.BrowserStackConfig.amplitudeAbExperiments,signed_in:!!window.CURRENT_USER,url:window.location.href,team:"online_sales",product:friendlyProductKey(),source:"Homepage_Demo_CTA_Exp1"})}),function(){var e=document.getElementById("help-menu-dropdown");e&&e.addEventListener("click",function(e){WebEventTracker.logEvent([],EDS.webEvents,"Clickedongethelp",{signed_in:!!window.CURRENT_USER,item:e.target&&e.target.innerHTML,Url:e.target&&e.target.getAttribute("href"),team:"online_sales",product:friendlyProductKey()})})}(),window.showNotificationAlert&&window.location.pathname.match("/dashboard/v2")&&$.bsAlert.alert({text:window.showNotificationMessage,alertType:"success",timeout:1e5});
var ajaxSignInSignUpForm={formObj:$("#signin_signup_form"),enterpriseForm:$("#enterprise_sign_in"),passwordField:$("#user_password"),fullNameField:$("#user_full_name"),phoneNumberField:$("#user_phone_number"),submitButton:$("#user_submit"),tncCheckBox:$("#tnc_checkbox")},isAuthV4=window.authV4&&window.authV4.isEnabled,recaptchaCallback=(window.handleOneTapCredentialResponse=function(e){User.googleOneTapAuth(e)},window.continueWithNextIdp=function(e){var i,n="",a=$("#g_id_onload").is(":visible");if("display"==e.g&&1==e.h&&window.innerWidth<980)return void $("#credential_picker_iframe").remove();a&&("display"==e.g&&1==e.h?n="view":"dismissed"==e.g&&"credential_returned"==e.i?n="clicked email":"skipped"==e.g&&"user_cancel"==e.l&&(n="clicked cross"),["clicked email","clicked cross"].includes(n)&&(e=a="","/users/sign_in"==(i=window.location.pathname)?a="InteractedWithSignInPage":"/users/sign_up"==i&&(a="InteractedWithSignUpPage"),"clicked cross"==n?e="Google OneTap Cross":"clicked email"==n&&(e="Google One Tap Email"),WebEventTracker.logEvent([],EDS.webEvents,a,{action:e,page_source:window.location.href})),0<n.length&&WebEventTracker.logEvent([],EDS.webEvents,"GoogleOneTapCard",{action:n,page_source:window.location.href}))},$(window).bind("pageshow",function(e){e.originalEvent.persisted&&"/user/try-live"===window.location.pathname&&window.location.reload()}),jQuery.bsAlert||(jQuery.bsAlert={alert:function(){},closeAll:function(){}}),$(".checkout-tos").find("[name=terms_and_conditions]").on("click",function(){jQuery.bsAlert.closeAll()}),function(){var e=$(".g-recaptcha"),i=e.data("v3-site-key"),n=-1<window.location.pathname.search("/user-consent"),a=-1<window.location.pathname.search("/try-live"),t=-1<window.location.pathname.search("speedlab"),r="signup";e.removeClass("error"),$(".g-recaptcha span").remove(),n?r="user_consent":a?r="try_live":t&&(r="speedlab"),"undefined"!=typeof grecaptcha&&0<e.length&&i?grecaptcha.execute(i,{action:r}).then(function(e){n?User.userConsentCallback(e):User.callAction(e)}):n?User.userConsentCallback():User.callAction()}),expiredCaptchaCallback=function(){grecaptcha.reset()},errorCaptchaCallback=function(){jQuery.bsAlert.alert({text:Messages.recaptchaError,alertType:"error",timeout:1e6})},oauthTypeList=["google"],loadRecaptchaV2=function(){var e=$(".g-recaptcha");"undefined"!=typeof grecaptcha&&0<e.length&&grecaptcha.render(e[0],{sitekey:e.data("sitekey"),badge:"bottomleft",size:e.data("size"),callback:e.data("callback"),theme:e.data("theme"),"expired-callback":e.data("expired-callback"),"error-callback":e.data("error-callback")})},User=(ajaxSignInSignUpForm.emailField=ajaxSignInSignUpForm.formObj.find(".user_email_ajax"),{signupCta:"Sign me up",disableDefaultCallbacks:!1,authType:"",keyDisplayVal:function(e){return $.map(e,function(e){return e.substring(0,1).toUpperCase()+e.substring(1).toLowerCase()})},getParameterByName:function(e){e=RegExp("[?&]"+e+"=([^&]*)").exec(window.location.search);return e&&decodeURIComponent(e[1].replace(/\+/g," "))},isInvitationFlow:function(){try{var e=User.getParameterByName("token"),i=User.getParameterByName("uuid"),n=User.getParameterByName("gid");return e||i||n}catch(e){return!1}},getInvitationType:function(){try{return User.getParameterByName("token")?"invite-by-link":User.getParameterByName("uuid")&&User.getParameterByName("gid")?"invite-by-email":""}catch(e){return""}},setAuthType:function(e){e?User.authType=e:"/users/sign_in"==(e=window.location.pathname)?User.authType="sign-in":"/users/sign_up"==e&&(User.authType="sign-up")},ajaxSigninSignupInit:function(e){(ajaxSignInSignUpForm.source=e)&&(ajaxSignInSignUpForm.promotionalPage=-1!=["microsoft-promotion","mozilla-promotion"].indexOf(e)),User.gaTrackingForLinks();var n,i,a,t,o=ajaxSignInSignUpForm.formObj;0!==o.length&&("/users/sign_in"===o.attr("action")?User.signin_init(o):User.signup_init(o),o.submit(function(){return!1}),ajaxSignInSignUpForm.passwordField.blur(function(){""!==ajaxSignInSignUpForm.passwordField.val()&&SignupChecks.validate(this)}),ajaxSignInSignUpForm.fullNameField.blur(function(){fullNameFieldBlurCallback()}),setTimeout(function(){ajaxSignInSignUpForm.emailField.blur(emailFieldBlurCallback)},500),ajaxSignInSignUpForm.emailField.is("[readonly]")&&(""===ajaxSignInSignUpForm.emailField.val()?ajaxSignInSignUpForm.emailField.removeAttr("readonly"):ajaxSignInSignUpForm.emailField.trigger("blur").end().find("[type=password]").get(0).focus()),ajaxSignInSignUpForm.submitButton.click(function(){var e,i,n=ajaxSignInSignUpForm.submitButton.val(),a=window.userOnSpeedlabDashboard(),t="checked"===$("#tnc_checkbox").attr("checked");if(ajaxSignInSignUpForm.submitButton.attr("disabled","disabled").addClass("disabled"),ajaxSignInSignUpForm.formObj.find(".text").each(function(){SignupChecks.validate(this)}),""===ajaxSignInSignUpForm.emailField.val()&&(i=User.isInvitationFlow()?"Please enter a valid email of format name@example.com":"Invalid Email",a?(window.SpeedLab.showErrorOnEmailInput(),window.SpeedLab.hideDisabledAttributeForSubmit()):SignupChecks.enableFormError(ajaxSignInSignUpForm.emailField,i)),(n.match(/Sign me up/)||n.match(/Let's go/))&&SignupChecks.validateTermsAndConditions(ajaxSignInSignUpForm.tncCheckBox),a&&!t)return window.SpeedLab.showErrorOnTncCheckbox(),void window.SpeedLab.hideDisabledAttributeForSubmit();var r=0;for(e in SignupChecks.formCanBeSubmited)Object.hasOwnProperty.call(SignupChecks.formCanBeSubmited,e)&&(r+=1);if(0!==r||""===ajaxSignInSignUpForm.passwordField.val())return ajaxSignInSignUpForm.submitButton.removeAttr("disabled","disabled").removeClass("disabled"),!1;null!==o.attr("action").match(/\/users\/sign_in/)?(ajaxSignInSignUpForm.submitButton.val("Signing in...").attr("disabled","disabled").addClass("disabled"),User.callAction()):(ajaxSignInSignUpForm.submitButton.val("Validating...").attr("disabled","disabled").addClass("disabled"),a&&ajaxSignInSignUpForm.submitButton.addClass("btn--disabled"),"undefined"!=typeof grecaptcha&&$(".g-recaptcha").length?grecaptcha.execute().then(function(){window.recaptchaCloseListener||initRecaptchaModalListener()}).catch(function(){}):User.callAction())}),ajaxSignInSignUpForm.formObj.hasClass("auth-form-v3")&&$("body").on("click",function(e){$(e.target).parent().find('iframe[title="recaptcha challenge"]').length&&ajaxSignInSignUpForm.formObj.find('input[type="submit"]').val(User.signupCta).removeAttr("disabled").removeClass("disabled")}),$("#user_submit, .oauth-btn").click(function(){$("#google_one_tap_wrapper").css("display","none")}),-1<window.location.pathname.search("users/sign_in")?((i=getUrlVars()).redirectMsg&&"emailExists"==i.redirectMsg&&jQuery.bsAlert.alert({text:"Hooray! The email exists. Enter your password to start testing."}),WebEventTracker.logEvent([],EDS.webEvents,"OnSignInPage",{referrer:document.referrer,url:window.location.href,auth_form_type:User.isInvitationFlow()?"invitation_flow":"control"}),n=!1,$("#user_submit, .sign-up-link, .input-wrapper, .logo, .forgot-password-link, .oauth-btn").click(function(){var e,i=$(this);"user_submit"==i.attr("id")?e="Sign Me In":i.hasClass("sign-up-link")?e="Sign up":i.hasClass("forgot-password-link")?e="Forgot password":i.hasClass("input-wrapper")&&!n?(e="Sign In Form interacted",n=!0):i.hasClass("logo")?e="Logo":i.hasClass("product-dropdown-toggle")?e="Products":i.hasClass("oauth-btn")&&(i=i.data("oauth-type"),e="SignInWith"+capitalize(i),i="",i=User.isInvitationFlow()&&window.invitationDetails&&window.invitationDetails.prospect_id?window.invitationDetails.prospect_id:window.currentUserProspectId,WebEventTracker.logEvent([],EDS.webEvents,"loginWithGoogle",{timestamp:Date.now(),prospectId:i,loginMethod:"BStack Credentials",referrer:document.referrer,url:window.location.href})),e&&!isAuthV4&&WebEventTracker.logEvent([],EDS.webEvents,"InteractedWithSignInPage",{action:e,url:window.location.href,auth_form_type:User.isInvitationFlow()?"invitation_flow":"control"})}),$(".primary-menu-container a").click(function(){$(this).find(".dropdown-link-heading")&&$(this).find(".dropdown-link-heading").text()?WebEventTracker.logEvent([],EDS.webEvents,"InteractedWithSignInPage",{action:$(this).find(".dropdown-link-heading").text().trim(),url:window.location.href,auth_form_type:User.isInvitationFlow()?"invitation_flow":"control"}):WebEventTracker.logEvent([],EDS.webEvents,"InteractedWithSignInPage",{action:$(this).text(),url:window.location.href,auth_form_type:User.isInvitationFlow()?"invitation_flow":"control"})}),oauthType&&(e={oauth_type:oauthType},User.convertToSsoForm(e))):-1<window.location.pathname.search("users/sign_up")&&(n=!1,i=getUrlVars(),e="undefined"!=typeof userReferralReward&&userReferralReward,a="tft_exp_allocated",(t=Cookie.read(a))||(Cookie.create(a,"signup"),t="signup"),(a={referrer:document.referrer,url:window.location.href,referral_reward:e,visit_source:t,abExp:window.BrowserStackConfig.amplitudeAbExperiments,auth_form_type:User.isInvitationFlow()?"invitation_flow":"control",team:"online_sales"}).source=i.utm_source,WebEventTracker.logEvent([],EDS.webEvents,"OnSignUpPage",a),$(".sign-in-link, #user_submit, .terms-url, .privacy-url, .input-wrapper, .logo, .oauth-btn").click(function(){var e,i=$(this);i.hasClass("sign-in-link")?e="Sign In":"user_submit"==i.attr("id")?e="Sign Me Up":i.hasClass("terms-url")?e="Terms":i.hasClass("privacy-url")?e="Privacy":i.hasClass("input-wrapper")&&!n?(e="Form interacted",n=!0):i.hasClass("logo")?e="Logo":i.hasClass("oauth-btn")&&(i=i.data("oauth-type"),e="SignUpWith"+capitalize(i)),e&&!isAuthV4&&WebEventTracker.logEvent([],EDS.webEvents,"InteractedWithSignUpPage",{action:e})})))},googleOneTapAuth:function(e){$.ajax({url:"/users/google-one-tap",type:"post",data:e,beforeSend:function(e){e.setRequestHeader("Accept","application/json")},success:function(e){e.success&&(window.location.href=e.redirect)},error:function(e){jQuery.bsAlert.alert({text:e.responseJSON.message,htmlMessage:!0,alertType:"error",timeout:1e6})}})},callAction:function(e){var i=ajaxSignInSignUpForm.formObj,n=(ajaxSignInSignUpForm.submitButton.val(),i.find("#user_email_login")),n=(n.val(n.val().trim()),i.serialize()),e=(getURLParameter("override_referrer")?n+="&product_exploration_referrer="+encodeURI(getURLParameter("referrer_url"))+"&override_referrer="+getURLParameter("override_referrer"):n+="&product_exploration_referrer="+encodeURI(document.referrer),void 0!==User.gaCID&&(n+="&gaCID="+encodeURI(User.gaCID)),window.ga?n+="&gaLoaded="+window.ga.loaded:n+="&gaLoaded=ga_not_found",e&&(n+="&recaptcha_v3_token="+e),User.gclid&&(n+="&gclid="+encodeURI(User.gclid)),window.location.pathname),e="/users/sign_in"===e||"/users/sign_up"===e;function a(){i.find('input[type="submit"]').attr("disabled",!1).removeClass("disabled"),"/users/sign_in"!==i.attr("action")?i.find('input[type="submit"]').val(i.hasClass("auth-form-v3")?User.signupCta:"Sign up for free"):i.find('input[type="submit"]').val("Sign me in")}!User.isInvitationFlow()&&e&&(n+="&v4_auth_form=false"),$.ajax({url:i.attr("action"),data:n,beforeSend:function(e){e.setRequestHeader("Accept","application/json")},type:"post",success:function(e){Cookie.erase("downtime_notified"),ajaxSignInSignUpForm.submitButton.removeAttr("disabled"),User.isSignUpForm(i)&&"undefined"!=typeof Capterra&&Capterra&&Capterra.trackConversions(),ajaxSignInSignUpForm.formObj.data("integrations")&&void 0!==ajaxSignInSignUpForm.formObj.data("amplitude-event")&&void 0!==ajaxSignInSignUpForm.formObj.data("integration-name")&&WebEventTracker.logEvent([],EDS.liveWebEvents,ajaxSignInSignUpForm.formObj.data("amplitude-event"),{source:ajaxSignInSignUpForm.formObj.data("integration-name")}),User.success_submit(e)},error:function(e){var i;"undefined"!=typeof grecaptcha&&grecaptcha.reset();try{if(429===e.status)a(),jQuery.bsAlert.alert({text:Messages.tooManyRequests,htmlMessage:!0,alertType:"error",timeout:1e6});else if(401===e.status&&(i=JSON.parse(e.responseText))&&i.error&&i.show_banner)return void jQuery.bsAlert.alert({text:i.error,htmlMessage:!0,alertType:"error",timeout:1e6});i=JSON.parse(e.responseText),User.form_error(i);var n="",n=User.isInvitationFlow()&&window.invitationDetails&&window.invitationDetails.prospect_id?window.invitationDetails.prospect_id:window.currentUserProspectId;WebEventTracker.logEvent([],EDS.webEvents,"loginFailure",{timestamp:Date.now(),prospectId:n,loginMethod:"BStack Credentials",referrer:document.referrer,url:window.location.href,gaCID:User.gaCID||"",response:i})}catch(e){a(),jQuery.bsAlert.alert({text:Messages.somethingWentWrong,htmlMessage:!0,alertType:"error",timeout:1e6})}}})},userConsentCallback:function(e){var i=$("#user_consent_form");i.find("#recaptcha_v3_token").val(e),i.submit()},emailValidation:function(){$("#email_validation_form").on("submit",function(){var e=SignupChecks.invalidEmail($(this).find(".user_email_ajax").val().trim());if(e.isInvalid)return e=User.isInvitationFlow()?"Please enter a valid email of format name@example.com":e.errorMessage,SignupChecks.enableFormError($(this).find(".user_email_ajax"),e),!1})},resetPasswordValidation:function(){var e={passwordField:$("#reset_password"),passwordConfirmationField:$("#user_password_confirmation")};-1<window.location.pathname.search("users/password/edit")&&WebEventTracker.logEvent([],EDS.webEvents,"SetupPasswordPage",{referrer:document.referrer}),$("#reset_password_form").on("submit",function(){return WebEventTracker.logEvent([],EDS.webEvents,"InteractedWithSetupPassword",{action:"Set Password"}),SignupChecks.enableType(e.passwordField),SignupChecks.enableType(e.passwordConfirmationField),e.passwordField.val().trim().length<6?(SignupChecks.enableFormError(e.passwordField,"Must be atleast 6 characters"),!1):e.passwordConfirmationField.val()&&e.passwordField.val().trim()==e.passwordConfirmationField.val().trim()?void 0:(SignupChecks.enableFormError(e.passwordField,"Passwords do not match"),SignupChecks.enableFormError(e.passwordConfirmationField,"Passwords do not match"),!1)})},signup_init:function(e){e.find("input.user_email_ajax").attr("name","user[email]")},signin_init:function(e){e.find("input.user_email_ajax").attr("name","user[login]")},isSignUpForm:function(e){return"signup_form"===e.attr("id")||e.hasClass("auth-form-v3--sign-up")},check_user_existence:function(n,a,i,t){var e={email:$(n).val()},r=window.setTimeout(function(){window.clearInterval(o),$.post(Config.generate_url("/user/set_user_existence"),e,function(e){e.existence_set?(a.find('input[type="submit"]').val("Signing up...").attr("disabled","disabled").addClass("disabled"),i(t)):(e=User.isInvitationFlow()?"Please enter a valid email of format name@example.com":"Invalid Email",SignupChecks.enableFormError($(n),e),(User.isSignUpForm(a)?a.find('input[type="submit"]').val(a.hasClass("auth-form-v3")?User.signupCta:"Sign up for free"):a.find('input[type="submit"]').val(User.signupCta)).attr("disabled",!1).removeClass("disabled"))},"json")},1500),o=setInterval(function(){$.post(Config.generate_url("/user/check_user_existence"),e,function(e){var i;e.user_exists||(e=window.userOnSpeedlabDashboard(),i=User.isInvitationFlow()?"Please enter a valid email of format name@example.com":"Invalid Email",e?$(".email-input").addClass("email-input--error"):(e=i,t.errors[0]&&t.errors[0].full_name&&(e=t.errors[0].full_name),SignupChecks.enableFormError($(n),e)),(User.isSignUpForm(a)?a.find('input[type="submit"]').val(a.hasClass("auth-form-v3")?User.signupCta:"Sign up for free"):a.find('input[type="submit"]').val(User.signupCta)).attr("disabled",!1).removeClass("disabled"),window.clearInterval(o),window.clearTimeout(r))},"json")},500)},success_submit:function(e){if("firefox"!==$.browser.name&&"chrome"!==$.browser.name||extensionCacheBursting.burstExtensionPopupCache(),e.errors&&"Captcha validation is required."==e.errors[0])return ajaxSignInSignUpForm.formObj.hasClass("auth-form-v3")?"undefined"!=typeof grecaptcha&&$(".g-recaptcha").length?(grecaptcha.reset(),grecaptcha.execute()):(jQuery.bsAlert.alert({text:e.errors[0],htmlMessage:!0,alertType:"error",timeout:1e6}),(User.isSignUpForm(ajaxSignInSignUpForm.formObj)?ajaxSignInSignUpForm.formObj.find('input[type="submit"]').val(ajaxSignInSignUpForm.formObj.hasClass("auth-form-v3")?User.signupCta:"Sign up for free"):ajaxSignInSignUpForm.formObj.find('input[type="submit"]').val(User.signupCta)).attr("disabled",!1).removeClass("disabled")):($("<span />",{text:e.errors[0],class:"recaptcha-error-msg"}).appendTo(".g-recaptcha > div > div"),$(".g-recaptcha").addClass("error"),ajaxSignInSignUpForm.submitButton.val(User.signupCta).attr("disabled",!1).removeClass("disabled")),!1;if(e.errors&&"Invalid Characters"===e.errors[0]&&window.userOnSpeedlabDashboard()&&(window.SpeedLab.showErrorOnEmailInput(),ajaxSignInSignUpForm.submitButton.val(User.signupCta).attr("disabled",!1).removeClass("btn--disabled")),e.errors&&"account_blocked"===e.errors[0])return jQuery.bsAlert.alert({text:Messages.accountBlocked,htmlMessage:!0,alertType:"error",timeout:1e6}),ajaxSignInSignUpForm.submitButton.val(User.signupCta).attr("disabled",!1).removeClass("disabled"),!1;if(e.errors&&"check_terms_and_services"===e.errors[0])return jQuery.bsAlert.alert({text:Messages.termsAndConditions,htmlMessage:!0,alertType:"error",timeout:1e6}),ajaxSignInSignUpForm.submitButton.val(User.signupCta).attr("disabled",!1).removeClass("disabled"),!1;if(e.errors&&"referral_expired"===e.errors[0])return jQuery.bsAlert.alert({text:Messages.referralExpired,htmlMessage:!0,alertType:"error",timeout:1e6}),ajaxSignInSignUpForm.submitButton.val(User.signupCta).attr("disabled",!1).removeClass("disabled"),!1;if(e.errors&&"referral_verification_failed"===e.errors[0])return jQuery.bsAlert.alert({text:Messages.referralVerificationFailed,htmlMessage:!0,alertType:"error",timeout:1e6}),ajaxSignInSignUpForm.submitButton.val(User.signupCta).attr("disabled",!1).removeClass("disabled"),!1;if(e.errors&&"restricted_domain_mismatch"===e.errors[0])return jQuery.bsAlert.alert({text:Messages.restrictedDomainMismatch,htmlMessage:!0,alertType:"error",timeout:1e6}),ajaxSignInSignUpForm.submitButton.val(User.signupCta).attr("disabled",!1).removeClass("disabled"),!1;if(1==e.success&&(a=User.isSignUpForm(ajaxSignInSignUpForm.formObj),t={userId:void 0!==e.meta_data?e.meta_data.id:void 0,groupId:void 0!==e.meta_data?e.meta_data.group_id:void 0},WebEventTracker.logEvent([],EDS.webEvents,a?"ActualSignUpFE":"ActualSignIn",{timestamp:Date.now(),referrer:document.referrer,auth_form_type:User.isInvitationFlow()?"invitation_flow":"control",type:a?"signUp":"signIn",url:window.location.href,gaCID:User.gaCID||"",user_id:t.userId,group_id:t.groupId}),a="",a=User.isInvitationFlow()&&window.invitationDetails&&window.invitationDetails.prospect_id?window.invitationDetails.prospect_id:window.currentUserProspectId,WebEventTracker.logEvent([],EDS.webEvents,"loginSuccessful",{timestamp:Date.now(),prospectId:a,loginMethod:"BStack Credentials",referrer:document.referrer,url:window.location.href,gaCID:User.gaCID||"",user_id:t.userId,group_id:t.groupId})),"string"==typeof e.redirect&&e.redirect.match(/\/main\/confirmation/))window.location=e.redirect;else if("string"==typeof e.redirect_to&&e.redirect_to.match(/\/main\/confirmation/))window.location=e.redirect_to;else if(e.success||e.redirect!==Config.generate_url("/blocked_ip","accounts")){if("string"==typeof e.redirect_to&&e.redirect_to.match(/\/users\/two_factor_authentication/))return void(window.location=e.redirect_to+window.location.search);if("string"==typeof e.redirect_to&&e.redirect_to.match(/\/user\/setup-mfa/))return void(window.location=e.redirect_to+window.location.search)}else window.location=Config.generate_url("/blocked_ip","accounts");function i(e){var i=0===$("#signin_signup_form").length?$("#secure_signup_form, #signup_form"):$("#signin_signup_form");"string"==typeof e.redirect&&(e.redirect.match(/live/)&&e.redirect.match(/dashboard/)||e.redirect.match(/app-automate/)&&e.redirect.match(/dashboard/))&&(window.location.host.match(/live/)||window.location.host.match(/app-automate/))?"undefined"!=typeof AppAutomateLanding?AppAutomateLanding.handleUser(e):document.location.reload(!0):"string"==typeof e.redirect&&e.redirect.match(/live/)&&e.redirect.match(/dashboard/)&&window.location.href.match(/dashboard/)&&window.location.host.match(/live/)?document.location.reload(!0):e.redirect?window.location.href=e.redirect:document.referrer.match(/app-live/)?document.referrer.match(/features/)?window.location.href=Config.generate_url("","app-live"):window.location.href=Config.generate_url("/dashboard","app-live"):(i.attr("action",e.redirect),$("#user_email_login").attr("name","username"),ajaxSignInSignUpForm.passwordField.attr("name","password"),i[0].submit())}var n,a=$("#user_page_source"),t=$("#user_page_source_name").val(),a=(1!=e.success||void 0===e.meta_data||e.sign_in||(document.referrer&&(-1<document.referrer.indexOf("app-live")?("chrome"==$.browser.name&&window.matchMedia("(display-mode: standalone)")&&window.matchMedia("(display-mode: standalone)").matches?e.meta_data.workflow="IDE":e.meta_data.workflow="QA",e.meta_data.bs_signup_page=document.referrer):-1<document.referrer.indexOf("app-automate")&&document.referrer.indexOf("app-automate/")<0?e.meta_data.bs_signup_page="app-automate-landing":-1<document.referrer.indexOf("automate")&&document.referrer.indexOf("automate/")<0?e.meta_data.bs_signup_page="automate-landing":a.length&&"app-autoamte-framework"==a.val()&&t?e.meta_data.bs_signup_page=t+"-landing":e.meta_data.bs_signup_page=document.referrer),e.meta_data.invited="string"==typeof e.redirect&&(null!=e.redirect.match(/jointeam/)||null!=e.redirect.match(/invitation/)),e.meta_data.user_id=e.meta_data.id,e.meta_data.signup_date=e.meta_data.signup_date.slice(0,10),Amplitude.setUserProperties(e.meta_data),WebEventTracker.logEvent([],EDS.webEvents,"NewSignup",e.meta_data)),-1<e.redirect.indexOf("/speedlab")&&(window.sessionStorage.getItem("monitoring_via_report_alert")&&(e.redirect=e.meta_data.url),"monitoring_auth"===window.sessionStorage.getItem("signup_source")&&window.sessionStorage.setItem("monitoring_auth_success",!0),window.sessionStorage.removeItem("signup_source")),0===$("#signin_signup_form").length?$("#secure_signup_form, #signup_form"):$("#signin_signup_form"));null===window.location.href.match(/\/users\/two_factor_authentication/)&&null===window.location.href.match(/\/user\/setup-mfa/)&&null===a.attr("action").match(/\/users\/sign_in/)?(t="#user_email",n=0<$(".toggle-auth-form").length,n=t=void 0===$(t).val()||n?"#user_email_login":t,e.errors&&e.errors[0].full_name&&(n="#user_full_name"),User.check_user_existence(n,a,i,e)):i(e)},form_error:function(e,i){if((null!==(i=void 0===i?0===$("#signin_signup_form").length?$("#secure_signup_form, #signup_form"):$("#signin_signup_form"):i).attr("action").match(/\/users\/sign_in/)?i.find('input[type="submit"]').val("Sign me in"):User.isSignUpForm(i)?i.find('input[type="submit"]').removeClass("btn--disabled").val(i.hasClass("auth-form-v3")?User.signupCta:"Sign up for free"):i.find('input[type="submit"]').val(User.signupCta)).attr("disabled",!1).removeClass("disabled"),jQuery.bsAlert.closeAll(),!(e.locked||void 0!==e.attempts_left&&e.attempts_left<=2)||(jQuery.bsAlert.alert({text:e.error,alertType:"error",timeout:!1}),!e.locked)){var n,a,t,r=e;for(n in r)Object.hasOwnProperty.call(r,n)&&(t='input[name="user['+n+']"]',$(t).addClass("error"),a=Array.isArray(r[n])?r[n][0]:r[n],-1<window.location.host.indexOf("automate")&&("/"==window.location.pathname||"/dashboard"==window.location.pathname)?$(t).next().removeClass("hide").find("span").html(a):window.userOnSpeedlabDashboard()?window.SpeedLab.showErrorOnEmailInput():$(t).next().removeClass("hide").find(".msg-body span").html(a).attr({"aria-live":"polite","aria-atomic":"true","aria-relevant":"all","aria-label":n+a}),"error"===n&&("Captcha not yet verified"===r[n]&&r.redirect_url?window.location.href=r.redirect_url:"Please verify your account to continue."===r[n]?window.location.href=Config.generate_url("/confirmation","accounts"):(t="Invalid password",User.isInvitationFlow()&&(t='Password entered is incorrect. <a class="invitation-error-link" href="'+("/users/password/new"+window.location.search)+'">Forgotten Password?</a>'),$("input[type='password']").addClass("error"),$("input[type='password']").next().removeClass("hide").find(".msg-body span").html(t).attr({"aria-live":"polite","aria-atomic":"true","aria-relevant":"all","aria-label":"Password:"+t}))))}},makeSignup:function(e){var i=e.formObj||{},e=e.skip_field||{},n=i.attr("action").replace("/users/sign_in","/users"),a=$(".freemium-list").length?"Get a FREE account for LIFE":"Create a FREE Account",t=User.signupCta;$(".sub-heading").show(),$(".freemium-list").show(),$(".auth_alert").removeClass("alert-info").addClass("alert-error").removeClass("show").addClass("hide").html(""),$("#signin-signup, #bd-signin").find("h1").text(t),$("#signin-signup .sign-up-form, #bd-signin .sign-up-form").find("h3").text(a),$(".already-signed-up-text").show(),0!==i.length&&(i.attr("action",n),"microsoft-promotion"==ajaxSignInSignUpForm.source?i.find('input[type="submit"]').val("Get unlimited Edge for free"):i.find('input[type="submit"]').val(t),i.find("input#user_group_attributes_name").attr("disabled",!1),ajaxSignInSignUpForm.fullNameField.attr("disabled",!1),ajaxSignInSignUpForm.phoneNumberField.attr("disabled",!1),i.find("input.user_email_ajax").attr("name","user[email]"),i.find("div.new-field").hasClass("hide")&&!e.name&&(jQuery.bsAlert.closeAll(),i.find("div.new-field").removeClass("hide").addClass("show"),i.find("div.new-field>h3").removeClass("hide").addClass("show")),i.find(".new-field-company").hasClass("hide")&&i.find(".new-field-company").removeClass("hide").addClass("show").attr("disabled",!1),i.find(".g-recaptcha").addClass("show").removeClass("hide"),i.find("#fp-signin").removeClass("hide").addClass("show"),i.find("#fp-signup").removeClass("show").addClass("hide"),i.find(".checkout-tos").removeClass("hide").addClass("show"),ajaxSignInSignUpForm.source&&ajaxSignInSignUpForm.promotionalPage&&i.find("#fp-signups").removeClass("show").addClass("hide"),i.hasClass("auth-form-v3")&&($("#already-sign-in-link").removeClass("hide"),i.removeClass("auth-form-v3--sign-in").addClass("auth-form-v3--sign-up"),i.find(".heading").text(a),i.find("#user_full_name").closest(".input-placeholder").removeClass("hide").addClass("show"),i.find("#user_phone_number").closest(".input-placeholder").removeClass("hide").addClass("show"),i.find(".terms-input").removeClass("hide").addClass("show").find('input[name="terms_and_conditions"]').removeAttr("disabled"),i.find(".oauth-btn.google-logo-btn").text("Sign up with Google")),WebEventTracker.logEvent([],EDS.webEvents,"FormMigration",{currentForm:i.attr("action"),formChangedTo:"ChangeToSignUpForm",auth_form_type:User.isInvitationFlow()?"invitation_flow":"control",url:window.location.href}))},makeSignin:function(n){delete SignupChecks.formCanBeSubmited.user_full_name;var a="Sign in",e=n.attr("action").replace("/users","/users/sign_in");$("#signin-signup, #bd-signin").find("h1").text(a),$("#signin-signup .sign-up-form, #bd-signin .sign-up-form").find("h3").text(a),$(".already-signed-up-text").hide(),$(".sub-heading").hide(),$(".freemium-list").hide(),jQuery("#checkoutSignin").find("h3").text(a),n.find('input[type="submit"]').hasClass("user-dashboard")||$("div.hero-unit.signup-signin").find("p").hide(),n.attr("action",e),n.find("input.user_email_ajax").attr("name","user[login]"),n.find("input#user_group_attributes_name").attr("disabled","disabled"),ajaxSignInSignUpForm.fullNameField.attr("disabled","disabled"),ajaxSignInSignUpForm.phoneNumberField.attr("disabled","disabled"),n.find('input[type="submit"]').val("Sign me in"),n.find(".g-recaptcha").addClass("hide").removeClass("show"),n.find("div.new-field").removeClass("show").addClass("hide"),n.find(".new-field-company").removeClass("show").addClass("hide").attr("disabled","disabled"),n.find("#fp-signin").removeClass("show").addClass("hide"),n.find("#fp-signup").removeClass("hide").addClass("show"),n.find(".checkout-tos").removeClass("show").addClass("hide"),ajaxSignInSignUpForm.source&&ajaxSignInSignUpForm.promotionalPage&&n.find("#fp-signups").removeClass("hide").addClass("show"),n.hasClass("auth-form-v3")&&($("#already-sign-in-link").addClass("hide"),n.removeClass("auth-form-v3--sign-up").addClass("auth-form-v3--sign-in"),n.find(".heading").text("Sign in"),n.find("#user_phone_number").closest(".input-placeholder").addClass("hide"),n.find(".terms-input").removeClass("show").addClass("hide").find('input[name="terms_and_conditions"]').attr("disabled","disabled"),oauthTypeList.forEach(function(e){var i=capitalize(e);n.find(".oauth-btn."+e+"-logo-btn").text(a+" with "+i)})),WebEventTracker.logEvent([],EDS.webEvents,"FormMigration",{currentForm:n.attr("action"),formChangedTo:"ChangeToSignInForm",auth_form_type:User.isInvitationFlow()?"invitation_flow":"control",url:window.location.href})},changeSuccessUserKeyboard:function(e,i){window.userOnLiveDashboard()&&window.viewerOn&&(window.BrowserStack.user.keyboard_layout=i,window.Loader.trigger="keyboard-layout",window.viewerParams.startElement="keyboard_settings",window.SessionManager.remoteStart()),window.viewerOn||Reactor.notification.success({label:e})},changeSuccessBlankUrlCheckbox:function(e){window.BrowserStack.user.use_blank_url=e,Reactor.notification.success({label:window.Messages.blankUrlParamModified})},changeFailuerUserKeyboard:function(){window.viewerOn&&window.Loader.removeLoadingEffect(),Reactor.notification.error({label:window.Messages.oopsErr})},changeFailuerBlankUrlCheckbox:function(){Reactor.notification.error({label:window.Messages.startFailed})},determinePageForGATracking:function(){return-1<window.location.pathname.indexOf("start")?"SignUp_Live":-1<window.location.pathname.indexOf("automate")?"SignUp_Automate":-1<window.location.pathname.indexOf("sign_in")?"SignIn":-1<window.location.pathname.indexOf("sign_up")?"SignUp":-1<window.location.pathname.indexOf("password")?"ResetPassword":null},gaTrackingForLinks:function(){jQuery("#secure_signup_form input").focusin(function(){switch($(this).attr("id")){case"user_password":0;break;case"user_full_name":0}})},logAmplitudeEvent:function(e,i){"CompanyError"===e&&(i.source=i.source||"Direct",i.description="Company field skipped/incorrectly filled"),WebEventTracker.logEvent([],EDS.webEvents,e,i)},resetOauthForm:function(e){var i=e.formObj||{},e=e.skip_field||{},n=i.find(".pass-input-placeholder, .terms-input, .action-links");e.password?n.addClass("hide"):n.removeClass("hide"),oauthTypeList.forEach(function(e){i.find("."+e+"-login-button").addClass("hide")}),(i.hasClass("checkout_auth")?i.find("#checkout_auth_submit"):ajaxSignInSignUpForm.submitButton).removeClass("hide")},makeOauthForm:function(i,n){var e=$(".sub-hero-unit-card");i.find(".pass-input-placeholder,.user-full-name-input-placeholder, .terms-input, .action-links, #user_submit").addClass("hide"),i.find("."+n+"-login-button").removeClass("hide"),oauthTypeList.forEach(function(e){e!==n&&i.find("."+e+"-login-button").addClass("hide")}),User.isInvitationFlow()&&("invite-by-link"===User.getInvitationType()&&($("#auth-section-v3 #user_email_login").addClass("disabled"),SignupChecks.enableType($("#auth-section-v3 #user_email_login"))),"invite-by-email"===User.getInvitationType()&&window.invitationDetails.exists&&($("#auth_enterprise_tnc_wrapper").removeClass("show").addClass("hide"),$("#auth-section-enterprise-v3 #invitation-flow-google-login").removeClass("hide").addClass("show")),$("#enterprise_sign_in #already-sign-in-link").addClass("hide")),i.hasClass("checkout_auth")?i.find("#checkout_auth_submit").addClass("hide"):(e.length&&e.addClass("gauth-sso"),ajaxSignInSignUpForm.submitButton.addClass("hide")),User.triggerDisconnectSSOAlert(),WebEventTracker.logEvent([],EDS.webEvents,"FormMigration",{currentForm:i.attr("action"),formChangedTo:"GauthForm",auth_form_type:User.isInvitationFlow()?"invitation_flow":"control",url:window.location.href})},triggerDisconnectSSOAlert:function(){jQuery.bsAlert.alert({text:Messages.sso.gauthEnabled,timeout:1e4,htmlMessage:!0})},triggerNewUserAlert:function(){jQuery.bsAlert.alert({text:Messages.newUserSignUp,timeout:1e4,htmlMessage:!0})},convertToSsoForm:function(e){var i=$("#enterprise_user_submit",ajaxSignInSignUpForm.enterpriseForm);$(".toggle-enterprise-form").hasClass("hide")&&($("#user_email",ajaxSignInSignUpForm.enterpriseForm).val(ajaxSignInSignUpForm.emailField.val()),User.isInvitationFlow()&&"invite-by-link"===User.getInvitationType()&&$("#user_email_login",ajaxSignInSignUpForm.enterpriseForm).val(ajaxSignInSignUpForm.emailField.val())),$(".toggle-normal-form").addClass("hide"),$(".toggle-enterprise-form").removeClass("hide"),$("#enterprise_user_submit","#bd-enterprise").trigger("focus"),0<i.length&&i.trigger("focus"),User.isInvitationFlow()&&(e.exists?(ajaxSignInSignUpForm.enterpriseForm.find('input[name="terms_and_conditions"]').attr("checked",!0),"invite-by-link"===User.getInvitationType()&&(ajaxSignInSignUpForm.enterpriseForm.find(".terms-input").addClass("hide").removeClass("show"),ajaxSignInSignUpForm.enterpriseForm.find("#user_email_login").addClass("disabled"))):(ajaxSignInSignUpForm.enterpriseForm.find(".terms-input").removeClass("hide").addClass("show").find('input[name="terms_and_conditions"]').removeAttr("disabled"),ajaxSignInSignUpForm.enterpriseForm.find('input[name="terms_and_conditions"]').attr("checked",!1)),$("#already-sign-in-link").addClass("hide"),"invite-by-link"===User.getInvitationType()&&$("#auth-section-enterprise-v3 #already-sign-in-link").addClass("hide"),$("#auth-section-enterprise-v3 #invitation-flow-google-login").addClass("hide")),oauthTypeList.forEach(function(e){$("."+e+"-login-button").addClass("hide")}),i.removeClass("hide"),e.oauth_type&&!e.is_sso_group&&(i.addClass("hide"),$("."+e.oauth_type+"-login-button").removeClass("hide")),e.exists&&e.is_sso_group&&e.is_sso_optional_non_exclusion&&i.val("Login"),WebEventTracker.logEvent([],EDS.webEvents,"FormMigration",{currentForm:"signInSiginUp",formChangedTo:"ChangeToSsoForm",auth_form_type:User.isInvitationFlow()?"invitation_flow":"control",url:window.location.href})}}),SignupChecks={formCanBeSubmited:{},init:function(){$('#checkout_auth input[type="text"], #checkout_auth input[type="password"], #signin_signup_form input[type="text"], #signin_signup_form input[type="password"], #signup_form input[type="text"], #signup_form input[type="password"], #secure_signup_form input[type="password"], #secure_signup_form input[type="text"]',"#email_validation_form").blur(function(){0===$("#checkout_auth input.text.error").length&&$(".checkout_auth_alert").addClass("hide"),""!==$(this).val()&&SignupChecks.validate(this)}),$("#signup_form #user_email, #secure_signup_form #user_email").blur(function(){var e,i;""!==$(this).val()&&(User.determinePageForGATracking(),e=function(e){SignupChecks.enableFormError(e,"Email already registered")},i=function(e){var i=SignupChecks.invalidEmail(e.val());i.isInvalid?(i=User.isInvitationFlow()?"Please enter a valid email of format name@example.com":i.errorMessage,SignupChecks.enableFormError(e,i)):SignupChecks.enableType(e)},SignupChecks.checkEmailInDataBase($(this),$(this).closest("form"),e,i))}),$("#secure_signup_form").on("ajax:beforeSend",function(){$(this).find('input[type="text"], input[type="password"]').each(function(){SignupChecks.validate(this)});var e,i=0;for(e in SignupChecks.formCanBeSubmited)Object.hasOwnProperty.call(SignupChecks.formCanBeSubmited,e)&&(i+=1);if(0!==i||""===ajaxSignInSignUpForm.passwordField.val())return!1;$("#selenium_page_submit").addClass("disabled")}),$("#secure_signup_form").on("ajax:success",function(e,i){User.success_submit(i)}),$("#secure_signup_form").on("ajax:error",function(e,i){User.form_error(JSON.parse(i.responseText))}),$("#home_page_submit, #selenium_page_submit").click(function(){$("#signup_form, #secure_signup_form").find('input[type="text"], input[type="password"]').each(function(){SignupChecks.validate(this)});var e,i=0;for(e in SignupChecks.formCanBeSubmited)Object.hasOwnProperty.call(SignupChecks.formCanBeSubmited,e)&&(i+=1);if(0!==i||""===ajaxSignInSignUpForm.passwordField.val())return!1;$("#signup_form").find('input[type="submit"]').val("Validating...").attr("disabled","disabled").addClass("disabled"),$("#signup_form").submit()})},enableType:function(e){e.removeClass("error"),e.next().removeClass("show").addClass("hide").find(".msg-body span").html(""),delete SignupChecks.formCanBeSubmited[e.attr("id")];var i=e.closest("form");"checkout_auth"===i.attr("id")&&(0===i.find("input.text.error").length?$(".checkout_auth_alert").addClass("hide").find(".error-field"):$(".checkout_auth_alert .error-field."+e.attr("id"))).addClass("hide")},enableFormError:function(e,i,n){i=decodeURIComponent(i),SignupChecks.formCanBeSubmited[e.attr("id")]=!0,e.addClass("error");var a=e.closest("form"),t={"aria-live":"polite","aria-atomic":"true","aria-relevant":"all"};n&&(t["aria-label"]=n),"checkout_auth"===a.attr("id")&&e.is(":visible")&&a.find(".checkout_auth_alert").removeClass("hide").find(".error-field."+e.attr("id")).removeClass("hide").find("span").html(i).attr(t),(e.nextAll("div:first").removeClass("hide").addClass("show").find(".msg-body").length?e.nextAll("div:first").find(".msg-body span"):e.nextAll("div:first").find("span")).html(i).attr(t)},validate:function(e){var i,n,e=$(e),a=User.isInvitationFlow();void 0!==e.attr("id")&&null!==e.attr("id").match(/password/)&&(i=e.val().length,n='Password entered is incorrect. <a class="invitation-error-link" href="'+("/users/password/new"+window.location.search)+'">Forgotten Password?</a>',i<6?SignupChecks.enableFormError(e,a&&!User.isSignUpForm(ajaxSignInSignUpForm.formObj)?n:"At least 6 characters","Password: "):128<i?SignupChecks.enableFormError(e,a&&!User.isSignUpForm(ajaxSignInSignUpForm.formObj)?n:"Max 128 characters","Password:"):SignupChecks.enableType(e)),void 0!==e.attr("id")&&null!==e.attr("id").match(/full_name/)&&"disabled"!==e.attr("disabled")&&($.trim(e.val()).length<3?SignupChecks.enableFormError(e,a?"Please enter at least 3 characters":"At least 3 characters","Name:"):40<$.trim(e.val()).length?SignupChecks.enableFormError(e,"Max 40 characters","Name:"):SignupChecks.validateFullName(e.val()).isInvalid?SignupChecks.enableFormError(e,"Invalid Characters","Name: "):SignupChecks.enableType(e)),void 0!==e.attr("id")&&null!==e.attr("id").match(/phone_number/)&&"disabled"!==e.attr("disabled")&&(n=(i=$.trim(e.val())).replace(/[^\d]/g,""),!/^[0-9-+()."\s]*$/.test(i)||n.length<=6||15<n.length?SignupChecks.enableFormError(e,"Invalid phone number"):SignupChecks.enableType(e)),void 0!==e.attr("id")&&null!==e.attr("id").match(/user_group_attributes_name/)&&(window.location.pathname.replace("/",""),e.prop("disabled")||(a=$.trim(e.val()).length,i=window.location.pathname.replace("/","").match(/firefox|microsoft/)?"partnershipPage":"signup",a?80<a?(SignupChecks.enableFormError(e,"Max 80 characters"),User.logAmplitudeEvent("CompanyError",{source:i})):SignupChecks.enableType(e):(SignupChecks.enableFormError(e,"Invalid Company"),User.logAmplitudeEvent("CompanyError",{source:i}))))},validateFullName:function(e){return{isInvalid:-1!==e.indexOf("."),errorMessage:"Invalid Characters"}},invalidEmail:function(e){var i="",i=User.isInvitationFlow()?"Please enter a valid email of format name@example.com":emailContainsNonLatinCharacters(e)?Messages.emailValidationErrors.invalidCharacters:Messages.emailValidationErrors.invalidEmail;return{isInvalid:-1===e.indexOf("@")||-1===e.indexOf(".")||-1!==e.indexOf("..")||emailContainsNonLatinCharacters(e),errorMessage:i}},checkEmailInDataBase:function(i,n,a,t,r){$.post(Config.generate_url("/user/check_email"),{name:i.val().trim()},function(e){SignupChecks.process_data(e,i,n,a,t,r)})},process_data:function(e,i,n,a,t,r,o){var s,l=window.location.href,d="";ajaxSignInSignUpForm.emailField.off("blur"),oauthTypeList.forEach(function(e){$("."+e+"-login-button").addClass("hide")}),s=$(".toggle-enterprise-form .terms-input, #ajax_signin_signup .terms-input"),window.currentUserProspectId=e.currentUserProspectId,e.is_sso_group&&e.is_accepted_tos?(s.removeClass("hide").addClass("show"),s.find("tnc_checkbox_enterprise").removeAttr("disabled")):s.removeClass("show").addClass("hide"),e.is_sso_optional_non_exclusion||o?SignupChecks.createSsoOptionalLink(o):SignupChecks.removeSsoOptionalLink(),l.match(/enterprise\/login/)||(User.isInvitationFlow()&&"invite-by-link"===User.getInvitationType()&&((d={}).inviter_user_id=window.invitationDetails.inviter_user_id,d.user_id=e.user_id,d.current_group_id=e.group_id),!e.is_sso_group&&!e.oauth_type||l.match(/make-payment/)||l.match(/orders\/new/)||l.match(/test-on-firefox-browser/)||l.match(/test-on-microsoft-edge-browser/)||l.match(/pay-as-you-go/)||l.match(/user\/try-live/)||l.match(/speedlab/)?(e.is_sso_disabled&&jQuery.bsAlert.alert({text:Messages.sso.ssoDisabled,timeout:1e4,htmlMessage:!0}),$(".toggle-normal-form").removeClass("hide"),$(".toggle-enterprise-form").addClass("hide"),ajaxSignInSignUpForm.emailField.val(i.val()),ajaxSignInSignUpForm.emailField.on("blur",emailFieldBlurCallback),ajaxSignInSignUpForm.submitButton.removeClass("hide"),e.exists?(User.setAuthType("sign-in"),d&&(s="InvitationSignInLink",User.isInvitationFlow()&&window.ssoInvitationDetails&&(s="InvitationSignInSSOLink"),WebEventTracker.logEvent([],EDS.webEvents,s,d)),a(i,n,e)):(User.setAuthType("sign-up"),d&&(o="InvitationSignUpLink",User.isInvitationFlow()&&window.ssoInvitationDetails&&(o="InvitationSignInSSOLink"),WebEventTracker.logEvent([],EDS.webEvents,o,d)),t(i,n,e),e.error&&void 0!==r&&(l.match(/users\/sign_up/)||l.match(/users\/sign_in/))&&!User.isInvitationFlow()&&r(i,e))):e.is_sso_group?(d&&window.WebEventTracker.logEvent([],window.EDS.webEvents,"InvitationSignInSSOLink",d),User.isInvitationFlow()&&"invite-by-link"===User.getInvitationType()&&window.ssoInvitationDetails?User.convertToSsoForm(window.ssoInvitationDetails):User.convertToSsoForm(e),User.convertToSsoForm(e)):!e.is_sso_group&&e.oauth_type&&User.makeOauthForm(n,e.oauth_type))},validateTermsAndConditions:function(e){delete SignupChecks.formCanBeSubmited[e.attr("id")],e.is(":checked")||(SignupChecks.formCanBeSubmited[e.attr("id")]=!0,jQuery.bsAlert.alert({text:Messages.termsAndConditions,htmlMessage:!0,alertType:"error",timeout:1e6}))},lockIcon:function(){return'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M12 5.66667H11.3333V4.33333C11.3333 2.49333 9.83996 1 7.99996 1C6.15996 1 4.66663 2.49333 4.66663 4.33333V5.66667H3.99996C3.26663 5.66667 2.66663 6.26667 2.66663 7V13.6667C2.66663 14.4 3.26663 15 3.99996 15H12C12.7333 15 13.3333 14.4 13.3333 13.6667V7C13.3333 6.26667 12.7333 5.66667 12 5.66667ZM5.99996 4.33333C5.99996 3.22667 6.89329 2.33333 7.99996 2.33333C9.10663 2.33333 9.99996 3.22667 9.99996 4.33333V5.66667H5.99996V4.33333ZM12 13.6667H3.99996V7H12V13.6667ZM7.99996 11.6667C8.73329 11.6667 9.33329 11.0667 9.33329 10.3333C9.33329 9.6 8.73329 9 7.99996 9C7.26663 9 6.66663 9.6 6.66663 10.3333C6.66663 11.0667 7.26663 11.6667 7.99996 11.6667Z" fill="#333333"/></svg>'},createSsoOptionalLink:function(e,i){e=!!e,i=window.invitationDetails&&User.isInvitationFlow()?window.invitationDetails.exists:void 0,document.body.classList.add("sso-optional__body");var n,a=document.getElementsByClassName("sso-optional");a&&0<a.length||(!e&&User.isInvitationFlow()&&(a=$(".auth-form-v3 .auth-form-container .terms-input"),!1===i?a.addClass("show").removeClass("hide"):i&&a.removeClass("show").addClass("hide")),a='<div class="sso-optional">',a=(a='<div class="sso-optional"><span class="sso-optional__sso-enabled-desc">'+SignupChecks.lockIcon()+'<span>SSO is enabled for your organization</span></span><span class="sso-optional__diversion"><span>OR</span></span>')+'<button type="button" class="sso-optional__optional-login-cta sso-optional__optional-login-cta--unnoticeable"'+(!1===i?'data-exists="false"':"")+(' id="'+(e?"sso-optional-move-to-sso-login":"sso-optional-move-to-login")+'"')+">"+(e?"Login with SSO":(!1===i?"Signup":"Login")+" with username & password")+"</button></div>",i=".auth-form-v3--sign-in .auth-form-fieldset",(n=document.getElementsByClassName("auth-form-v3--sign-up"))&&n.length&&(i=".auth-form-v3--sign-up .auth-form-fieldset"),e||(i=".auth-form-v3--single-sign-in .auth-form-fieldset"),$(i).append(a))},removeSsoOptionalLink:function(){var e=document.getElementsByClassName("sso-optional");if(e&&0<e.length)for(var i=0;i<e.length;i++)e[i].remove();document.body.classList.remove("sso-optional__body")},existCallBackForSsoOptionalInvite:function(e,i){"/users/sign_in"!==i.attr("action")&&(jQuery.bsAlert.alert({text:"Hooray! The email exists. Enter your password to start testing."}),User.makeSignin(i)),SignupChecks.enableType(e)},doesNotExistCallBackForSsoOptionalInvite:function(e,i){var n=SignupChecks.invalidEmail(e.val().trim());n.isInvalid?SignupChecks.enableFormError(e,n.errorMessage):(SignupChecks.enableType(e),User.makeSignup({formObj:i}))}};function emailFieldBlurCallback(){if(ajaxSignInSignUpForm.emailField.val()&&""!==ajaxSignInSignUpForm.emailField.val().trim()&&$("#user_email").val()!==ajaxSignInSignUpForm.emailField.val()){function e(e,i,n){if(!User.disableDefaultCallbacks){if("/users/sign_in"!==i.attr("action")){if(!n.is_sso_disabled&&!n.oauth_type){if(n.is_checkout_flow_without_password)return void(window.location="/user/confirm-email");jQuery.bsAlert.alert({text:"Hooray! The email exists. Enter your password to start testing."})}User.makeSignin(i)}if(n.oauth_type)User.makeOauthForm(i,n.oauth_type);else{if(n.is_checkout_flow_without_password)return void(window.location="/user/confirm-email");User.resetOauthForm({formObj:i})}SignupChecks.enableType(e)}SignupChecks.createSsoOptionalLink(!1)}function i(e,i){if(!User.disableDefaultCallbacks){User.resetOauthForm({formObj:i});var n=SignupChecks.invalidEmail(e.val());if(n.isInvalid)SignupChecks.enableFormError(e,n.errorMessage);else{if(-1<window.location.pathname.indexOf("open-source"))return Cookie.create("user_email",btoa(e.val().trim()),1e-4),void(window.location=Config.generate_url("/users/sign_up"));!ajaxSignInSignUpForm.fullNameField.is(":visible")&&window.location.href.match(/sign_in/)&&(jQuery.bsAlert.alert({text:"Let us create a free account for you. We have pre-filled some information for you to get started quickly."}),ajaxSignInSignUpForm.fullNameField.val(getNameFromEmail(e.val()))),SignupChecks.enableType(e),User.makeSignup({formObj:i})}}SignupChecks.removeSsoOptionalLink()}function n(e,i){SignupChecks.enableFormError(e,i.error),WebEventTracker.logEvent([],EDS.webEvents,"InteractedWithSignUpPage",{action:i.error,domain:e.val().split("@")[1],page_source:window.location.href,team:"online_sales"})}var a;if(window.existCallBack=e,window.doesNotExistCallBack=i,window.errorCallBack=n,"undefined"!=typeof landingPageCheckEmail&&""!==landingPageCheckEmail)try{(a=JSON.parse(landingPageCheckEmail)).email===ajaxSignInSignUpForm.emailField.val()?(SignupChecks.process_data(a,ajaxSignInSignUpForm.emailField,ajaxSignInSignUpForm.formObj,e,i),$("#user_email_login").attr("readonly",!1)):SignupChecks.checkEmailInDataBase(ajaxSignInSignUpForm.emailField,ajaxSignInSignUpForm.formObj,e,i,n)}catch(e){throw new Error(e)}else SignupChecks.checkEmailInDataBase(ajaxSignInSignUpForm.emailField,ajaxSignInSignUpForm.formObj,e,i,n)}}function fullNameFieldBlurCallback(){var e;ajaxSignInSignUpForm.fullNameField.val()&&""!==ajaxSignInSignUpForm.fullNameField.val().trim()&&((e=SignupChecks.validateFullName(ajaxSignInSignUpForm.fullNameField.val())).isInvalid?SignupChecks.enableFormError(ajaxSignInSignUpForm.fullNameField,e.errorMessage):SignupChecks.enableType(ajaxSignInSignUpForm.fullNameField))}function getNameFromEmail(e){var e=e.match(/^([^(@|+)]*)/)[0].replace(/\d+/g,"").split(/[.\-_]/),i=[];return e.forEach(function(e){""!=e&&i.push(e.replace(/^./,e[0].toUpperCase()))}),i.join(" ")}function onRecaptchaModalDismiss(){ajaxSignInSignUpForm.submitButton.removeAttr("disabled","disabled").removeClass("disabled").val("Sign me up"),WebEventTracker.logEvent([],EDS.webEvents,"SignupForm_Recaptcha_Closed",{domain:ajaxSignInSignUpForm.emailField.val().split("@")[1],page_source:window.location.href,team:"online_sales"})}function onRecaptchaModalOpen(){WebEventTracker.logEvent([],EDS.webEvents,"SignupForm_Recaptcha_Shown",{domain:ajaxSignInSignUpForm.emailField.val().split("@")[1],page_source:window.location.href,team:"online_sales"})}function onRecaptchaSuccess(){WebEventTracker.logEvent([],EDS.webEvents,"SignupForm_Recaptcha_Success",{domain:ajaxSignInSignUpForm.emailField.val().split("@")[1],page_source:window.location.href,team:"online_sales"})}function initRecaptchaModalListener(){window.recaptchaCloseListener=!0;var e,i,n=document.querySelector('iframe[src^="https://www.google.com/recaptcha"][src*="bframe"]');"MutationObserver"in window&&n&&(e=n.parentNode.parentNode,(i=new MutationObserver(function(){"1"===e.style.opacity?onRecaptchaModalOpen():((grecaptcha.getResponse()?onRecaptchaSuccess:onRecaptchaModalDismiss)(),window.recaptchaCloseListener=!1,i.disconnect())})).observe(e,{attributes:!0,attributeFilter:["style"],characterDataOldValue:!0}))}jQuery(document).ready(function(){var e=User.getParameterByName("gclid");e&&((s=User.getParameterByName("gclsrc"))&&-1===s.indexOf("aw")||Cookie.create("gclid",e,90)),User.setAuthType(),User.gclid=Cookie.read("gclid");try{var i=window.BrowserStack&&window.BrowserStack.GA4_MEASUREMENT_ID;window.gtag&&i?window.gtag("get",i,"client_id",function(e){User.gaCID=e}):(n=Cookie.read("_ga"))&&(User.gaCID=n.split(/GA[0-9].[0-9]./)[1])}catch(e){}var n,a,t,r,o,s=getUrlVars(),l=(s.bannerMessage&&!isAuthV4&&(jQuery.bsAlert.alert({text:decodeURI(s.bannerMessage),alertType:s.bannerType,timeout:s.bannerTimeout}),window.history.pushState({},"",window.location.origin+window.location.pathname)),jQuery("#user_new").submit(function(){var e=jQuery("#user_email").val();if(SignupChecks.invalidEmail(e).isInvalid)return!1;jQuery("#user_submit").addClass("disabled").val("Resetting...")}),jQuery("#sign_out_link").on("click",function(){"undefined"!=typeof chrome&&void 0!==chrome.runtime&&chrome.runtime.sendMessage(quickLaunchChromeExtensionId,{type:"SIGN_OUT"})}),User.isInvitationFlow()&&(e=User.getInvitationType(),i="",n={},s=window.ssoInvitationDetails&&window.ssoInvitationDetails.is_sso_group,"invite-by-email"===e&&(window.invitationDetails&&window.invitationDetails.prospect_id&&(n.prospect_id=window.invitationDetails.prospect_id),"sign-up"===User.authType?i="InvitationSignUpEmail":(n.user_id=window.invitationDetails.user_id,n.current_group_id=window.invitationDetails.current_group_id,"sign-in"===User.authType&&(i="InvitationSignInEmail")),s&&(i="InvitationSignInSSOEmail")),i&&window.WebEventTracker.logEvent([],window.EDS.webEvents,i,n)),-1<window.location.href.indexOf("/users/sign_up")&&!window.ssoInvitationDetails&&emailFieldBlurCallback(),User.isInvitationFlow()&&("sign-in"===User.authType&&$("#already-sign-in-link").addClass("hide"),"sign-up"===User.authType&&$("#already-sign-in-link").removeClass("hide")),{formObj:$("#enterprise_sign_in"),emailField:$("#user_email"),submitButton:$("#enterprise_user_submit"),isOnAuthPage:0<$(".toggle-auth-form, #ajax_signin_signup").length}),e=(l.formObj.length&&(l.isOnAuthPage&&(r=!1,0===l.emailField.length&&User.isInvitationFlow()&&window.ssoInvitationDetails&&"invite-by-link"===User.getInvitationType()&&(r=!0,l.emailField=$("#enterprise_sign_in #user_email_login")),l.emailField.on("blur",function(e){""!==l.emailField.val().trim()&&ajaxSignInSignUpForm.emailField.val()!==l.emailField.val()&&(l.emailField.hasClass("disabled")||SignupChecks.checkEmailInDataBase(l.emailField,l.formObj,function(e,i,n){r&&n.is_sso_group?User.convertToSsoForm(n):("/users/sign_in"!==i.attr("action")&&(jQuery.bsAlert.alert({text:"Hooray! The email exists. Enter your password to start testing."}),User.makeSignin(i),User.isInvitationFlow()&&"invite-by-link"===User.getInvitationType()&&(ajaxSignInSignUpForm.emailField.addClass("disabled"),ajaxSignInSignUpForm.formObj.find(".sign-up-link").addClass("hide"))),SignupChecks.enableType(e))},function(e,i){var n;r?User.convertToSsoForm(window.ssoInvitationDetails):(n=SignupChecks.invalidEmail(e.val().trim())).isInvalid?SignupChecks.enableFormError(e,n.errorMessage):(SignupChecks.enableType(e),User.makeSignup({formObj:i}))}))})),l.submitButton.on("click",function(){var e=l.emailField,i=l.emailField.val();if(i&&l.emailField.val(l.emailField.val().trim()),User.isInvitationFlow()&&(i||(n=ajaxSignInSignUpForm.enterpriseForm.find("#user_email_login").val())&&(i=n||""),e&&e.length||(ajaxSignInSignUpForm.enterpriseForm.find("#user_email_login").length&&(e=ajaxSignInSignUpForm.enterpriseForm.find("#user_email_login")),ajaxSignInSignUpForm.enterpriseForm.find("#user_email").length&&(e=ajaxSignInSignUpForm.enterpriseForm.find("#user_email")))),$(".error-msg span",l.formObj).html(""),l.emailField.removeClass("error"),!i||""==i.trim())return n=User.isInvitationFlow()?"Please enter a valid email of format name@example.com":"Invalid Email",SignupChecks.enableFormError(e,n),!1;var n=SignupChecks.invalidEmail(i.trim());if(n.isInvalid)return i=User.isInvitationFlow()?"Please enter a valid email of format name@example.com":n.errorMessage,SignupChecks.enableFormError(e,i),!1;if(User.isInvitationFlow()&&!window.ssoInvitationDetails.exists&&!$("#tnc_checkbox_enterprise").is(":checked"))return jQuery.bsAlert.alert({text:Messages.termsAndConditions,alertType:"error",timeout:5e3,htmlMessage:!0}),!1;l.emailField.blur();n="",n=User.isInvitationFlow()&&window.invitationDetails&&window.invitationDetails.prospect_id?window.invitationDetails.prospect_id:window.currentUserProspectId;WebEventTracker.logEvent([],EDS.webEvents,"loginWithSso",{timestamp:Date.now(),prospectId:n,loginMethod:"BStack Credentials",referrer:document.referrer,url:window.location.href})})),-1<window.location.pathname.search("/confirmation")&&(WebEventTracker.logEvent([],EDS.webEvents,"OnConfirmationPage",{referrer:document.referrer}),$(".contact-support").click(function(){WebEventTracker.logEvent([],EDS.webEvents,"InteractedWithConfirmationPage",{action:"Contact Support"})}),$(".logo").click(function(){WebEventTracker.logEvent([],EDS.webEvents,"InteractedWithConfirmationPage",{action:"Logo"})})),$("#pricing-upgrade-link, #account-pnl-btn, #rm-buy, .sidebar-buy-plan, #upgrade-modal-cta__header").on("click",function(){var e,i="",n={},a=$(this),i="pricing-upgrade-link"==a.attr("id")||"upgrade-modal-cta__header"==a.attr("id")?"Header":"account-pnl-btn"==a.attr("id")?"Body":"rm-buy"==a.attr("id")?"OnTestScreen":"Sidebar";"update-credit-card"!=a.attr("data-cta")&&(BrowserStack.user&&BrowserStack.user.live&&(e=BrowserStack.user.live.isOnLiveComplimentaryPlan?"complimentary":BrowserStack.user.live.isPaid?"paid":"free"),n={Product:window.location.origin,section:i,abExp:window.BrowserStackConfig.amplitudeAbExperiments},e&&(n.ProductPlanType=e),WebEventTracker.logEvent([],EDS.webEvents,"ClickedBuyaPlan",n))}),$(".save-my-spot-cta").on("click",function(){WebEventTracker.logEvent([],EDS.webEvents,"OnSignInPage",{action:"Teamplan_signin_page_promotion_clicked"})}),jQuery("#user-role-dropdown, #user-source-dropdown"));if(0<e.length&&e.chosen({disable_search:!0,width:"100%"}),SignupChecks.init(),User.ajaxSigninSignupInit(),User.emailValidation(),User.resetPasswordValidation(),window.location.hash&&Cookie.create("startSessionHash",window.location.hash),-1<window.location.pathname.search("/user-consent")&&(o=capitalize(oauthTypeOnConsent),WebEventTracker.logEvent([],EDS.webEvents,"OnConsentPage",{action:"PageVisit",social_type:o,team:"online_sales"}),(a=$("#full_name")).one("change",function(){WebEventTracker.logEvent([],EDS.webEvents,"OnConsentPage",{action:"EditedName",social_type:o,team:"online_sales"})}),$("#user_consent_submit").click(function(e){WebEventTracker.logEvent([],EDS.webEvents,"OnConsentPage",{action:"ClickedProceed",social_type:o,team:"online_sales"}),$.trim(a.val()).length<3?(SignupChecks.enableFormError(a,"At least 3 characters","Name:"),e.preventDefault()):-1!==$.trim(a.val()).indexOf(".")?(SignupChecks.enableFormError(a,"Invalid Characters","Name:"),e.preventDefault()):40<$.trim(a.val()).length?(SignupChecks.enableFormError(a,"Max 40 characters","Name:"),e.preventDefault()):SignupChecks.enableType(a);var i=$(".g-recaptcha");"undefined"!=typeof grecaptcha&&0<i.length&&(grecaptcha.reset(),grecaptcha.execute(),e.preventDefault())})),""!==(s=getURLParameter("eventData")))try{t=(s=JSON.parse(atob(s))).type,s=s.data,WebEventTracker.logEvent([],EDS.webEvents,t,s)}catch(e){}-1<window.location.href.indexOf("ref=caniuse-source")&&-1<window.location.pathname.indexOf("/users/sign_in")&&!isAuthV4&&$.ajax({url:"/user/set-ref-params-from-hash?ref=caniuse-source"}),-1<window.location.href.indexOf("ref=netlify-source")&&-1<window.location.pathname.indexOf("/users/sign_in")&&!isAuthV4&&$.ajax({url:"/user/set-ref-params-from-hash?ref=netlify-source"}),window.invitationDetails&&window.invitationDetails.exists&&window.invitationDetails.oauth_type&&User.makeOauthForm(ajaxSignInSignUpForm.formObj,window.invitationDetails.oauth_type),window.ssoInvitationDetails&&window.ssoInvitationDetails.is_sso_group&&User.convertToSsoForm(window.ssoInvitationDetails)}),$(document).ready(function(){var i=new Map;function e(e,i,n){const a=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("name",i),a.setAttribute("value",n),e.append(a)}const n=location.search,a=n.replace("?","").split("&");for(let e=0;e<a.length;e+=1){var t=a[e].split("=");i[t[0]]=t[1]}let r=document.getElementById("signin_signup_form");r=r||document.getElementById("enterprise_sign_in"),r&&(e(r,"utm_source",i.utm_source),e(r,"utm_medium",i.utm_medium),e(r,"utm_campaign",i.utm_campaign),e(r,"utm_platform",i.utm_platform),e(r,"utm_content",i.utm_content),e(r,"utm_campaigncode",i.utm_campaigncode),e(r,"utm_term",i.utm_term)),$("body").on("click",function(e){var i,n={},a=User.isInvitationFlow();"sso-optional-move-to-login"===e.target.id&&(i=e.target.getAttribute("data-exists"),User.setAuthType(i?"sign-up":"sign-in"),n={exists:!i,is_sso_group:!1,is_sso_optional_non_exclusion:!1},SignupChecks.removeSsoOptionalLink(),SignupChecks.process_data(n,ajaxSignInSignUpForm.emailField,ajaxSignInSignUpForm.formObj,a?SignupChecks.existCallBackForSsoOptionalInvite:window.existCallBack,a?SignupChecks.doesNotExistCallBackForSsoOptionalInvite:window.doesNotExistCallBack,window.errorCallBack,!0),document.body.classList.add("sso-optional__body"),WebEventTracker.logEvent([],EDS.webEvents,"loginWithSSOLinkClicked",{url:window.location.href})),"sso-optional-move-to-sso-login"===e.target.id&&(n={exists:!0,is_sso_group:!0,is_sso_optional_non_exclusion:!0},SignupChecks.removeSsoOptionalLink(),SignupChecks.process_data(n,ajaxSignInSignUpForm.emailField,ajaxSignInSignUpForm.formObj,a?SignupChecks.existCallBackForSsoOptionalInvite:window.existCallBack,a?SignupChecks.doesNotExistCallBackForSsoOptionalInvite:window.doesNotExistCallBack,window.errorCallBack),document.body.classList.add("sso-optional__body"),WebEventTracker.logEvent([],EDS.webEvents,"loginWithAlternateLinkClicked",{url:window.location.href}))}),$(document).ready(function(){var e;window.isSsoOptionalNonExclusion&&(e=window.invitationDetails.exists,SignupChecks.createSsoOptionalLink(!1,e))})});
var singleton=function(){var e,n,t;return{getInstance:function(){return e=e||{appendChild:function(){n=document.createElement("BsFirefoxExtensionPingElement"),document.documentElement.appendChild(n),t=document.createElement("BsFirefoxExtensionElement"),document.documentElement.appendChild(t)},returnPingElement:function(){return n},returnMessageElement:function(){return t}}}}}();window.FirefoxMessengerApi=function(){"firefox"==$.browser.name&&(this.sendMessage=function(e,r){var n,i,t,s,o,a,l,c;"connectionStatus"===e.type?((t=document.createEvent("Events")).initEvent("BsFirefoxExtensionPingRequestEvent",!0,!1),(s=singleton.getInstance()).appendChild(),(n=s.returnPingElement()).addEventListener("BsFirefoxExtensionPingResponseEvent",function(n){var t,n=n.target.getAttribute("Reply");try{t=JSON.parse(n)}catch(e){t=n}browserExtension&&browserExtension.installedVersion&&12<browserExtension.installedVersion&&!t.version&&$.inArray(e.type,["copyToClipboard","getClipboardData"])<0||r(t)}),n.setAttribute("Message",JSON.stringify(e)),n.dispatchEvent(t)):(o=!1,(a=document.createEvent("Events")).initEvent("BsFirefoxExtensionRequestEvent",!0,!1),(s=singleton.getInstance()).appendChild(),(i=s.returnMessageElement()).addEventListener("BsFirefoxExtensionResponseEvent",function(n){o=!0;var t,n=n.target.getAttribute("Reply");try{t=JSON.parse(n)}catch(e){t=n}try{document.documentElement.removeChild(i)}catch(e){}browserExtension&&browserExtension.installedVersion&&12<browserExtension.installedVersion&&!t.version&&$.inArray(e.type,["copyToClipboard","getClipboardData"])<0||r(t)}),i.setAttribute("Message",JSON.stringify(e)),i.dispatchEvent(a),"installStatus"===e.type&&(l=0,c=setInterval(function(){o?clearInterval(c):(l+=1)<3?i.dispatchEvent(a):(clearInterval(c),browserExtension&&browserExtension.installedVersion&&12<browserExtension.installedVersion&&$.inArray(e.type,["copyToClipboard","getClipboardData"])<0||r({installed:!1}))},200)))})};
var browserExtension={id:"undefined"==typeof PassExtensionDetails?"":PassExtensionDetails.chromeExtensionId,type:null,os:null,init:function(e){browserExtension.type=e,browserExtension.version=PassExtensionDetails.extensionVersions[e],"chrome"==browserExtension.type?browserExtension.checkIfInstalled(function(e){e?($(".if-extension-installed").removeClass("hide").addClass("show"),$(".if-extension-not-installed").removeClass("show").addClass("hide")):($(".if-extension-installed").removeClass("show").addClass("hide"),$(".if-extension-not-installed").removeClass("hide").addClass("show"))}):(browserExtension.messengerApi=new FirefoxMessengerApi,browserExtension.checkIfInstalled(function(e){e?($(".if-extension-installed").removeClass("hide").addClass("show"),$(".if-extension-not-installed").removeClass("show").addClass("hide")):($(".if-extension-installed").removeClass("show").addClass("hide"),$(".if-extension-not-installed").removeClass("hide").addClass("show"))}))},sendMessage:function(e,s){"chrome"===browserExtension.type&&"undefined"!=typeof chrome&&void 0!==chrome.runtime?chrome.runtime.sendMessage(browserExtension.id,e,s):"firefox"==browserExtension.type&&browserExtension.messengerApi&&browserExtension.messengerApi.sendMessage(e,s)},checkIfInstalled:function(n){browserExtension.sendMessage({type:"installStatus"},function(e){e&&e.installed&&e.version&&parseInt(browserExtension.installedVersion,10)<parseInt(e.version,10)&&(browserExtension.installedVersion=parseInt(e.version,10));var s=!1,s=!!(e&&e.installed&&e.version&&parseInt(e.version,10)>=parseInt(browserExtension.version,10));n(s)})}};"undefined"!=typeof PassExtensionDetails&&"chrome"==$.browser.name&&31<=parseInt($.browser.version,10)&&"undefined"!=typeof chrome?browserExtension.init("chrome"):"undefined"!=typeof PassExtensionDetails&&PassExtensionDetails&&"firefox"==$.browser.name&&22<=parseInt($.browser.version,10)&&browserExtension.init("firefox");
var extensionCacheBursting={init:function(){"firefox"!=$.browser.name&&"chrome"!=$.browser.name||this.setCookieBeforeSignout(),"firefox"!=$.browser.name&&"chrome"!=$.browser.name||1!=Cookie.read("clear-extension-cache")||this.burstExtensionPopupCache()},setCookieBeforeSignout:function(){$(".account-dropdown-menu .sign_out_link").click(function(){Cookie.create("clear-extension-cache",1),Cookie.erase("downtime_notified")})},burstChromeExtensionCache:function(){"chrome"===$.browser.name&&"undefined"!=typeof chrome&&void 0!==chrome.runtime&&quickLaunchChromeExtensionId&&chrome.runtime.sendMessage(quickLaunchChromeExtensionId,{type:"installStatus"},function(e){e&&e.installed&&chrome.runtime.sendMessage(quickLaunchChromeExtensionId,{type:"burstCache"},function(){})})},burstExtensionPopupCache:function(){Cookie.erase("clear-extension-cache"),$.browser&&"chrome"==$.browser.name?this.burstChromeExtensionCache():window.FirefoxMessengerApi&&(new FirefoxMessengerApi).sendMessage({type:"refreshCookies"})}};extensionCacheBursting.init();
//# sourceMappingURL=http://browserstack-frontend-sourcemaps.s3-website-us-east-1.amazonaws.com/production/assets/signup.js.map
